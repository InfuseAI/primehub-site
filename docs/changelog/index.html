<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Changelog · PrimeHub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Upcoming"/><meta name="docsearch:version" content="2.2.2"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Changelog · PrimeHub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.primehub.io/"/><meta property="og:description" content="## Upcoming"/><meta property="og:image" content="https://docs.primehub.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.primehub.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/PrimeHub_icon_32.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/PrimeHub_icon_64.png" alt="PrimeHub"/><h2 class="headerTitleWithLogo">PrimeHub</h2></a><a href="/versions"><h3>2.2.2</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/getting-started-admin" target="_self">For Admin</a></li><li class=""><a href="/docs/getting-started-user" target="_self">For User</a></li><li class=""><a href="/docs/dev-introduction" target="_self">For Developers</a></li><li class=""><a href="/docs/index-zh" target="_self">繁中文件</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Changelog</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="upcoming"></a><a href="#upcoming" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upcoming</h2>
<ul>
<li>[Bug] Resource validator should check all container resource's usage #ch3414</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="whats-new"></a><a href="#whats-new" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What's New</h3>
<ul>
<li><strong>Custom Image:</strong> Admin now can build images with custom packages which include APT, pip and conda.</li>
<li><strong>Dataset Upload (Beta):</strong> For a dataset with pv type, it can run a dataset upload server which allow resumable upgrade and disable upload progress.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="breaking-changes"></a><a href="#breaking-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h3>
<h3><a class="anchor" aria-hidden="true" id="action-required"></a><a href="#action-required" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li><p>Add the environment variables for image pull secret to <code>.env</code></p>
<pre><code class="hljs">```
PRIMEHUB_ADMISSION_DOCKER_USERNAME=
PRIMEHUB_ADMISSION_DOCKER_PASSWORD=
```
</code></pre>
<p>We use admission to check resources now. Therefore, need pull secret for the admission image.
Please reference <a href="docs/design/admission.md">admission document</a> for more detail.</p></li>
<li><p>To enable Custom Image, you need to set <code>PRIMEHUB_FEATURE_CUSTOM_IMAGE=true</code> and it requires new environment variables:</p>
<ul>
<li><code>PRIMEHUB_CONTROLLER_CUSTOM_IMAGE_REGISTRY_ENDPOINT</code>: Registry endpoint (e.g. <code>https://gcr.io</code>)</li>
<li><code>PRIMEHUB_CONTROLLER_CUSTOM_IMAGE_REGISTRY_USERNAME</code>: Registry username</li>
<li><code>PRIMEHUB_CONTROLLER_CUSTOM_IMAGE_REGISTRY_PASSWORD</code>: Registry password</li>
<li><code>PRIMEHUB_CONTROLLER_CUSTOM_IMAGE_REPO_PREFIX</code>: Prefix for image. (e.g. 'gcr.io/infuseai' for 'gcr.io/infuseai/primehub-controller:be20ee69c5')</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="deprecated"></a><a href="#deprecated" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecated</h3>
<h2><a class="anchor" aria-hidden="true" id="v211"></a><a href="#v211" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v2.1.1</h2>
<h3><a class="anchor" aria-hidden="true" id="feature"></a><a href="#feature" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feature</h3>
<ul>
<li>make dataset upload beta - #ch5084</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="bugfix"></a><a href="#bugfix" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bugfix</h3>
<ul>
<li>When user logout and login again immediately, he will see error message. - #ch3045</li>
<li>unable to remove logo from primehub admin console - #ch4668</li>
<li>admin dashboard discard button doesn't work - #ch4392</li>
<li>fix grafana dashboard logout issue - #ch4692</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v210"></a><a href="#v210" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v2.1.0</h2>
<h3><a class="anchor" aria-hidden="true" id="whats-new-1"></a><a href="#whats-new-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What's New</h3>
<p>The main themes of this release are:</p>
<ul>
<li><strong>User Portal (GA)</strong>: A single user portal for user to access all the components and the admin console.</li>
<li><strong>GPU/CPU Image selection</strong>:  Admin can provide different image name for GPU/CPU</li>
<li><strong>Dataset PVC Creation:</strong> Support to create dataset PVC from admin console.</li>
<li><strong>Dataset Upload (Beta):</strong> For a dataset with pv type, it can run a dataset upload server which allow resumable upgrade and disable upload progress.</li>
<li><strong>Meta Chart:</strong> Since the 2.0 release, the meta chart is enabled by default. In release 2.1, the bootstrap script is run in the cluster and triggered when running helm install and upgrade.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="breaking-changes-1"></a><a href="#breaking-changes-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h3>
<p>N/A</p>
<h3><a class="anchor" aria-hidden="true" id="action-required-1"></a><a href="#action-required-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li>Because <code>PRIMEHUB_FEATURE_USER_PORTAL</code> is enabled by default, there are some action required:
<ul>
<li>For default installation, the <code>PRIMEHUB_SCHEME</code>, <code>PRIMEHUB_DOMAIN</code>, <code>KC_SCHEME</code>, <code>KC_DOMAIN</code> is required environment now. For definition, please reference <a href="docs/administration/configuration.md">configuration document</a></li>
<li>modify keycloak client <code>grafana-proxy</code> redirect URIs to <code>https://&lt;PRIMEHUB_DOMAIN&gt;/grafana/*</code></li>
</ul></li>
<li>Image has new spec attributes <code>type</code> and <code>urlForGpu</code> now, those two new attrs are used for seamlessly picking different image by type in spawner. For migrating existing images, please run <code>modules/upgrade/optional/add_gpu_cpu_type_to_images.sh</code></li>
<li>Set a new environment variable <code>PRIMEHUB_STORAGE_CLASS</code>. For rke installation, please set it to <code>rook-block</code>. For dev-gcp, set it to <code>standard</code>. For dev-gce, set it to <code>rook-block</code>. For dev-kind set it to <code>local-path</code>. It is the storage class setting for all RWO pvc usage.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="features"></a><a href="#features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h3>
<ul>
<li>Make User portal as default landing page #ch2574</li>
<li>admin-console should have a nav link back to portal #ch2859</li>
<li>Add Grafana to default list of user portal #ch2981</li>
<li>Adjust the application path #ch3495</li>
<li>Make the banner consistence in the user portal and admin console #ch3498</li>
<li>Unify primehub-console's navbar style #ch3498</li>
<li>unified ingress: deprecate PH_DOMAIN #ch1727</li>
<li>unified ingress: grafana #ch1725</li>
<li>update checklist for PrimeHub installation #ch2937</li>
<li>Tweaks for User Portal #ch2674</li>
<li>remove deprecated variables #ch3772</li>
<li>[Dataset] Admin Dashboard provides UI to create dataset pv-type pvc. #ch1794</li>
<li>Move dataset upload chart to metachart. #ch3065</li>
<li>In meta chart, use Job to perform idempotent upgrade #ch1238</li>
<li>Add images type (gpu/cpu/universal) on images list page #ch3661</li>
<li>Update image type wording <code>both</code> to <code>universal</code> #ch3393</li>
<li>conditional spawner options for image and GPU/CPU #ch2642</li>
<li>admin-ui support new ux-behavior to set up GPU/CPU in 1 image crd #ch2638</li>
<li>set maintenance notebook files to read only #ch1920</li>
<li>Make primehub-admission helm managed #ch1735</li>
<li>parameterize primehub-admission by helm-chart #ch1749</li>
<li>Refactor admission flask server #ch1909</li>
<li>crd openapi schema #ch2370</li>
<li>Support validation schema defined in the CRD (Image, InstanceType and Dataset) #ch2370</li>
<li>Script to check if the service account token valid #ch3764
Workspace</li>
<li>Provide a tool to detect and fix orphan mount &amp; rbdmap #ch3460</li>
<li>Create <code>ImageSpec</code> and <code>ImageSpecJob</code> CRD #ch3807</li>
<li>[Custom image v1] Evaluate Tekton pipelines for image building #ch3076</li>
<li>[Custom image v1] Evaluate if metacontroller satisfy the operator needs #ch3086</li>
<li>[Custom image v1] Setup Google container registry for storing built images #ch3083</li>
<li>Design Training Job Submission MVP #ch2724</li>
<li>Workspace: Admin Console UI Changes #ch1278</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="security"></a><a href="#security" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Security</h3>
<ul>
<li>k8s CVE-2019-11253 mitigation and advisories #ch3808</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="bugfix-1"></a><a href="#bugfix-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bugfix</h3>
<ul>
<li>[BUG] bootstrap image incompatible with the latest code (GPU, CPU feature) #ch3676</li>
<li>[BUG] memory resource literal should convert to bytes #ch3956</li>
<li>[Bug] 'feature/ch2436/provide-scripts-to-delete-orphan-user-group' break the ci job 'build:infra-upgrade-test-previous' #ch3701</li>
<li>[Bug] Attributes in everyone group is removed after editing &quot;Default User Volume Capacity&quot; #ch3007</li>
<li>[Bug] Default USER_PORTAL cause CI fail in infra-upgrade-test-previous #ch3934</li>
<li>[Bug] If numeric password is not allowed in bootstrap #ch3339</li>
<li>[Bug] Resource validator should check all container resource's usage #ch3414</li>
<li>[Bug] The <code>make init</code> generated .env incorrect. #ch3213</li>
<li>[Bug] User can't go to login page after logout from JupyterHub #ch2786</li>
<li>[Bug] When admin updates group permissions for some instances &amp; images, hub won't auto update for users #ch3041</li>
<li>[Bug] When instance type set memory with fraction, cannot spawn #ch4082</li>
<li>[Bug] When user choose a cpu or gpu instance, then choose the other instance of same type, the image list shouldn't be reset #ch3422</li>
<li>[Bug] feature/ch2574/make-user-portal-default break the ci job 'build:infra-upgrade-test-latest' #ch3700</li>
<li>[Bug] graphql-server should terminate when oidc refresh token fails #ch2358</li>
<li>[Bug] kernel-gateway cannot see GPU device #ch3641</li>
<li>[Bug] the volume size of pv dataset is incorrect in demo.b #ch3629</li>
<li>[Bug] when user create an instance type without overcommitting values, and click the edit button again, it shouldn't show overcommitting enabled. #ch3649</li>
<li>[Bug][CI][Kind] no instance type and image can be found #ch3991</li>
<li>cloud provisioner - quota on everyone group #ch1957</li>
<li>user portal broken after group removal #ch3003</li>
<li>Reproduce the group volume migration issue and find the solution #ch3012</li>
<li>investigate dev-gcp's use of load balancer #ch3933</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="third-party"></a><a href="#third-party" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Third Party</h3>
<ul>
<li>Upgrade cert-manager #ch2673</li>
<li>Upgrade Grafana dashboard to 6.3.0 and support unified ingress #ch1725</li>
<li>followup node-problem-detector #ch2088</li>
<li>[gpu] a preview image contains nvdashboard plugin (predefine layout for UX) #ch3768</li>
<li>Survey nvdashboard jupyter plugin #ch2220</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="document"></a><a href="#document" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document</h3>
<ul>
<li>build docs and provide as help site as part of primehub installation #ch1746</li>
<li>open source license files #ch2291</li>
<li>[Doc] Update ZD PrimeHub Manual with conditional spawner scenario #ch3389</li>
<li>[Doc] Update dataset page on ZD with two new features #ch2900</li>
<li>Beta Features Policy (eg Dataset Upload) #ch3816</li>
<li>Polish PrimeHub-Site to release-ready #ch2947</li>
<li>Spec: Hub UI can show resources usage for users' group before launch #ch391</li>
<li>Spec: design the architecture to integrate user portal, workspace, and application. #ch2976</li>
<li>Write design document for dataset upload #ch2503</li>
<li>Write document for primehub-ee metachart #ch2875</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v200"></a><a href="#v200" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v2.0.0</h2>
<h3><a class="anchor" aria-hidden="true" id="breaking-changes-2"></a><a href="#breaking-changes-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h3>
<ul>
<li>PrimeHub is managed by a single meta chart</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="action-required-2"></a><a href="#action-required-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li><strong>[Downtime Required] Migrate to metachart.</strong> Please follow the instructions in the <a href="/docs/modules/upgrade/migrate-v2">migration document to v2.0</a></li>
<li><strong>Dataset PVC</strong> Please configure <code>primehubGroupSC</code> at etc/helm_override/primehub.yaml. For example, set <code>standard</code> storage-class for GKE:
<pre><code class="hljs css language-yaml"><span class="hljs-attr">primehub-console:</span>
<span class="hljs-attr">  graphql:</span>
<span class="hljs-attr">    primehubGroupSC:</span> <span class="hljs-string">standard</span>
</code></pre>
The primehub-console needs a storage-class to create dataset pvc.</li>
</ul>
<p>Change <code>starndard</code> to other pvc storage class if needed.</p>
<ul>
<li>[Optional] setup <code>PRIMEHUB_FEATURE_ENABLE_KERNEL_GATEWAY</code> flag to enable jupyter separated kernel feature</li>
<li>[Optional] setup <code>PRIMEHUB_FEATURE_DATASET_UPLOAD</code> flag to enable dataset upload feature</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="deprecated-1"></a><a href="#deprecated-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecated</h3>
<ul>
<li><strong>Configuration in <code>${primehub}/etc</code></strong>. Configuration files should locate in <code>~/.primehub/config/$(kubectl config current-context)</code> instead of <code>${primehub}/etc</code>. The preferred path can also by retrieved by the command <code>${primehub}/bin/phenv --path</code>. For more information, please see <a href="concepts/designs/customization">customization document</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="features-1"></a><a href="#features-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h3>
<ul>
<li>[admin] Admin Dashboard provides UI to create dataset pv-type pvc. #ch1794</li>
<li>[rke] Configure csr-approval feature enabled by default #ch1641</li>
<li>[primehub] Make the meta chart the default installation #ch2096
<ul>
<li>[dev] Use metachart in dev-gce and dev-gcp installation. #ch2874</li>
<li>[airgap] Make sure metachart can be installed in airgap environment #ch2876</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="bugfix-2"></a><a href="#bugfix-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bugfix</h3>
<ul>
<li>[admin] Attributes in everyone group is removed after editing &quot;Default User Volume Capacity&quot; #ch3007</li>
<li>[hub] Bring scheduled-maintenance anti affinity back #ch2667</li>
<li>[hub] Refresh user state after the administrator reconfigured settings #ch2676</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="documents"></a><a href="#documents" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Documents</h3>
<ul>
<li>[primehub] Update PrimeHub 2 migration documents to avoid lost role binding #ch3023</li>
<li>[hub] Write a design document for persistence storage for notebooks #ch1119</li>
<li>[admin] Write design document for graphql #ch1116</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v182"></a><a href="#v182" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.8.2</h2>
<h3><a class="anchor" aria-hidden="true" id="security-1"></a><a href="#security-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Security</h3>
<ul>
<li>[CVE-2019-9512] Upgrade nginx-ingress chart to 1.17.1 (app version 0.25.1)</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v181"></a><a href="#v181" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.8.1</h2>
<h3><a class="anchor" aria-hidden="true" id="bugfix-3"></a><a href="#bugfix-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bugfix</h3>
<ul>
<li>Fix the issue that user can't launch instance when its CPU/memory requests are disabled. #ch2475</li>
<li>Fix group sorting error in spawner page. #ch2471</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v180"></a><a href="#v180" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.8.0</h2>
<h3><a class="anchor" aria-hidden="true" id="action-required-3"></a><a href="#action-required-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li><p>[Optional] Disable image and instance type customization
Set env <code>READ_ONLY_ON_INSTANCE_TYPE_AND_IMAGE=true</code> will disable image and instance type customization.</p></li>
<li><p>[Optional] For external keycloak installation, install <code>keycloak-tools</code> to enable keycloak idempotent upgrades.</p>
<pre><code class="hljs">kubectl apply -f modules/bootstrap/keycloak-tools<span class="hljs-selector-class">.yaml</span>
</code></pre></li>
<li><p>[Optional] Apply pod's image mutation</p>
<p>Label any namespaces which want to apply pod's image replcaing. For example:</p>
<pre><code class="hljs">kubectl <span class="hljs-keyword">label</span><span class="bash"> ns hub primehub.io/image-mutation-webhook=enabled</span>
</code></pre>
<p>In an airgap environment, that should be all namespaces.  This version, it keeps both PRIMEHUB_AIRGAPPED and image-mutation for backward compatible.</p></li>
<li><p>[Optional] Portal Default Cover</p>
<p>Since 1.8.0, we add serveral default cover images for portal link, you can override ui.portalConfig setup to use it:</p>
<ul>
<li>Gitlab: <code>/admin/default-covers/gitlab.png</code></li>
<li>Mattermost: <code>/admin/default-covers/mattermost.png</code></li>
<li>Jupyter: <code>/admin/default-covers/jupyter.png</code>
default portal setup in <code>modules/charts/primehub-console/values.yml</code>:</li>
</ul>
<pre><code class="hljs"><span class="hljs-attribute">portalConfig</span>: |
  <span class="hljs-attribute">services</span>:
    # Service portal setup <span class="hljs-attribute">example</span>:
    # - <span class="hljs-attribute">name</span>: Example
    #   <span class="hljs-attribute">uri</span>: <span class="hljs-string">"https://example.com"</span>
    #   <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/default.png"</span>
    #   <span class="hljs-attribute">adminOnly</span>: true | false
    #- <span class="hljs-attribute">name</span>: Gitlab
    #  <span class="hljs-attribute">uri</span>: <span class="hljs-string">"https://gitlab.com/infuseai"</span>
    #  <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/gitlab.png"</span>
    - <span class="hljs-attribute">name</span>: JupyterHub
      <span class="hljs-attribute">uri</span>: <span class="hljs-string">"/hub"</span>
      <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/jupyter.png"</span>
    - <span class="hljs-attribute">name</span>: Support
      <span class="hljs-attribute">uri</span>: <span class="hljs-string">"https://infuseai.zendesk.com/hc/en-us"</span>
      <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/support.png"</span>
    - <span class="hljs-attribute">name</span>: JupyterHub Admin
      <span class="hljs-attribute">uri</span>: <span class="hljs-string">"/hub/admin"</span>
      <span class="hljs-attribute">adminOnly</span>: true
      <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/jh-admin.png"</span>
    - <span class="hljs-attribute">name</span>: Admin Dashboard
      <span class="hljs-attribute">uri</span>: <span class="hljs-string">"/admin/cms"</span>
      <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/admin-ui.png"</span>
      <span class="hljs-attribute">adminOnly</span>: true
    - <span class="hljs-attribute">name</span>: Maintenance Notebook
      <span class="hljs-attribute">uri</span>: <span class="hljs-string">"/admin/maintenance"</span>
      <span class="hljs-attribute">image</span>: <span class="hljs-string">"/admin/default-covers/notebook.png"</span>
      <span class="hljs-attribute">adminOnly</span>: true
  <span class="hljs-attribute">welcomeMessage</span>: &gt;
</code></pre></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="features-2"></a><a href="#features-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h3>
<ul>
<li>Add new icons in user portal. #ch1860</li>
<li>Implement an operator to control dataset upload server. #ch1796</li>
<li>Spawner UI will order instanceTypes &amp; images options in alphabetical order. #ch1742</li>
<li>Use PrimeHub logo in JupyterHub navbar and can be used to redirect to user portal. #ch1740</li>
<li>Support feature toggling infrastructure to provide an alternative to maintaining multiple source-code branches. #ch1675</li>
<li>Add new template condition for readonly image and instanceType. #ch1595</li>
<li>Design document for JupyterHub integration. #ch1114</li>
<li>User won't be stuck in spawning page when resources is not enough. #ch1020</li>
<li>Support idempotent bootstrap and upgrade for external keycloak setup.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="bugfix-4"></a><a href="#bugfix-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bugfix</h3>
<ul>
<li>Fix out of range issue when resizing user volume. #ch2125</li>
<li>Fix missing space issue in &quot;connect existing groups&quot; button. #ch2070</li>
<li>Fix deprecated fields in z2jh to avoid warning and provide forward compatibility. #ch231</li>
<li>Fix the issue that group loading too long if there are too many users. !453</li>
<li>Fix unexpected error when user without any dataset in launch group. !445</li>
<li>Fix user storage capacity unit. !440</li>
<li>Fix typo of terraform load module. !437</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v170"></a><a href="#v170" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.7.0</h2>
<ul>
<li>Fix missing change image.txt !421</li>
<li>Bump admin-notebook version with user and group cleanup !420</li>
<li>Speed up OSD backfill !419</li>
<li>Fix jupyterhub chart uses wrong image for airgap !418</li>
<li>Remove skip deps for old helmfile !417</li>
<li>Fix ci docker version !415</li>
<li>Write design document for CRDs !414</li>
<li>Refine primehub version provides way !413</li>
<li>Support admission hook</li>
<li>Rewrite template logics !411</li>
<li>K8S ca signer checker !410</li>
<li>Use feature flag to support old convention for group volume !407</li>
<li>Update notebook image tag and move some fixed config into admin notebook image !406</li>
<li>Add ansible playbook for migrate aia bluestore !405</li>
<li>Add User portal mvp admin shows regular user !404</li>
<li>Unify admin hub ingress !402</li>
<li>Fix: launchGroupOnly should work for each type !401</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="breaking-changes-3"></a><a href="#breaking-changes-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h3>
<ul>
<li>Replace admin-ui with primehub-console</li>
<li>Unify domain name</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="action-required-4"></a><a href="#action-required-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li><p><strong>[Downtime Required] Migrate primehub-groupvolume.</strong></p>
<p>After upgrade v1.7.0 primehub-groupvolume, need to run migration script to migrate exist project-volume and dataset-volume.</p>
<p>After migrating primehub-groupvolume until running the migration process, user pod can not access the data in project and dataset volume.</p>
<p>For the production environment, it's better to schedule downtime upgrade with customer, or we need to let customer known user will encounter data access error during the upgrade process.</p>
<ul>
<li>RKE environment will run <code>rke_migration.sh</code> script for migration or follow the migration process provided in <code>READMD.md</code>.</li>
<li>GKE environment will run <code>gke_migration.sh</code> script for migration.
(See <code>modules/primehub-groupvolume-nfs/README.md</code> for more info.)</li>
</ul></li>
<li><p><strong>Migrate admin-ui to primehub-console</strong></p>
<ol>
<li><p>Add the environment variables for image pull secret to <code>.env</code></p>
<pre><code class="hljs"><span class="hljs-attr">PRIMEHUB_CONSOLE_DOCKER_USERNAME</span>=
<span class="hljs-attr">PRIMEHUB_CONSOLE_DOCKER_PASSWORD</span>=
</code></pre>
<p>The value can be found from</p>
<pre><code class="hljs">kubectl -n primehub <span class="hljs-builtin-name">get</span><span class="hljs-built_in"> secret </span>gitlab-registry -o <span class="hljs-attribute">jsonpath</span>=<span class="hljs-string">'{.data.\.dockerconfigjson}'</span> | base64 --decode | jq .
</code></pre></li>
<li><p>Add the helm override yaml.</p>
<p>Old sample (admin-ui.yaml):</p>
<pre><code class="hljs css language-yaml"><span class="hljs-attr">primehub:</span>
<span class="hljs-attr">  keycloakUrl:</span> <span class="hljs-attr">https://id.example.com/auth</span>
<span class="hljs-attr">  adminLocale:</span> <span class="hljs-string">en</span>
<span class="hljs-attr">  adminUrl:</span> <span class="hljs-attr">https://example.com/admin</span>
<span class="hljs-attr">  appPrefix:</span> <span class="hljs-string">/admin</span>
<span class="hljs-attr">  crdNamespace:</span> <span class="hljs-string">hub</span>
</code></pre>
<p>Should migrate to new one (primehub-console.yaml):</p>
<pre><code class="hljs css language-yaml"><span class="hljs-attr">keycloak:</span>
<span class="hljs-attr">  url:</span> <span class="hljs-attr">https://id.example.com/auth</span>

<span class="hljs-attr">ui:</span>
<span class="hljs-attr">  locale:</span> <span class="hljs-string">en</span>
<span class="hljs-attr">  url:</span> <span class="hljs-attr">https://example.com/admin</span>
<span class="hljs-attr">  appPrefix:</span> <span class="hljs-string">/admin</span>

<span class="hljs-attr">graphql:</span>
<span class="hljs-attr">  crdNamespace:</span> <span class="hljs-string">hub</span>
</code></pre>
<p>Before install primehub-console, you should remove old admin-ui release:</p>
<pre><code class="hljs">helm <span class="hljs-selector-tag">del</span> --purge admin-ui
</code></pre></li>
</ol></li>
<li><p>[Optional] User portal page</p>
<ol>
<li><code>PRIMEHUB_FEAURE_USER_PORTAL=true</code> will enable universal landing page for PrimeHub users.</li>
<li>You can setup items link and welcome messages on landing page in primhub-console.yaml:</li>
</ol>
<pre><code class="hljs css language-yaml"><span class="hljs-string">...</span>
<span class="hljs-attr">ui:</span>
  <span class="hljs-string">...</span>
<span class="hljs-attr">  portalConfig:</span> <span class="hljs-string">|
</span><span class="hljs-attr">    services:</span>
<span class="hljs-attr">      - name:</span> <span class="hljs-string">Google</span>
<span class="hljs-attr">        uri:</span> <span class="hljs-string">"https://www.google.com"</span>
<span class="hljs-attr">        image:</span> <span class="hljs-string">"https://www.google.com.tw/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png"</span>
<span class="hljs-attr">      - name:</span> <span class="hljs-string">GitLab</span>
<span class="hljs-attr">        uri:</span> <span class="hljs-string">"https://gitlab.com"</span>
<span class="hljs-attr">        image:</span> <span class="hljs-string">"https://shiring.github.io/tutorials/2017/09/04/GitLab_logo.png"</span>
<span class="hljs-attr">      - name:</span> <span class="hljs-string">JupyterHub</span>
<span class="hljs-attr">        uri:</span> <span class="hljs-string">"https://hub.aaron.dev.primehub.io"</span>
<span class="hljs-attr">        image:</span> <span class="hljs-string">"https://cdn-images-1.medium.com/max/2400/1*m87_Htb_9Pstq0UcvNJ49w.png"</span>
<span class="hljs-attr">      - name:</span> <span class="hljs-string">Admin</span> <span class="hljs-string">Dashboard</span>
<span class="hljs-attr">        uri:</span> <span class="hljs-string">"/cms"</span>
<span class="hljs-attr">        adminOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">        image:</span> <span class="hljs-string">"https://raw.githubusercontent.com/InfuseAI/primehub/master/docs/media/logo.png"</span>
<span class="hljs-attr">      - name:</span> <span class="hljs-string">Maintenance</span> <span class="hljs-string">Notebook</span>
<span class="hljs-attr">        uri:</span> <span class="hljs-string">"/maintenance"</span>
<span class="hljs-attr">        adminOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">        image:</span> <span class="hljs-string">"https://raw.githubusercontent.com/InfuseAI/primehub/master/docs/media/logo.png"</span>
<span class="hljs-attr">    welcomeMessage:</span> <span class="hljs-string">&gt;
      &lt;h1&gt;Getting Started&lt;/h1&gt;
      &lt;div&gt;End of Lines&lt;/div&gt;
</span></code></pre></li>
<li><p>[Optional] Migrate to unified domain name</p>
<ol>
<li>Add <code>PRIMEHUB_FEATURE_USER_PORTAL=true</code>, <code>PRIMEHUB_DOMAIN=</code> and <code>PRIMEHUB_SCHEME=</code> to <code>.env</code>.</li>
<li>Add new <a href="https://www.keycloak.org/docs/6.0/server_admin/index.html#oidc-clients">Valid Redirect URIs</a> to all affected keycloak clients. (e.g. <code>admin-ui</code>, <code>jupyterhub</code>, <code>maintenance-proxy</code>)</li>
<li>For more information, please see <a href="concepts/designs/user-portal">User Portal</a></li>
</ol></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="v160"></a><a href="#v160" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.6.0</h2>
<ul>
<li>Fixed Bug: metacontroller primehub-group nfs pvc deletion (reproduce) [ch378]</li>
<li>Fixed cpu limits configured in group quota are not effective [ch423]</li>
<li>Fixed User can't spawn pod because volume manager try to chown everything [ch728]</li>
<li>Implement the single upgrade script for PrimeHub [ch294]</li>
<li>JupyterLab 404 message patch [ch341]</li>
<li>Group volume size &amp; options [ch361]</li>
<li>Support Image Pull Secret for Images [ch362]</li>
<li>Users in everyone group has no quota by default [ch497]</li>
<li>Helm chart for maintenance notebook environment. [ch557]</li>
<li>Upgrade nginx-ingress chart to 1.6.16 and increase client-header-buffer-size to 16k [ch708]</li>
<li>Implement dataset <code>launchGroupOnly</code> in JupyterHub spawner [ch710]</li>
<li>Support Maintenance notebook feature. [ch711]</li>
<li>Patch rke nginx-ingress configMap [ch713]</li>
<li>nvidia-gpu-device-plugin has too small memory limit [ch419]</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="action-required-5"></a><a href="#action-required-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li><p>In order to make <a href="https://github.com/infuseai/primehub-admin-notebook">primehub-admin-notebook</a> to work properly,
You'll have to increase the <code>client_header_buffer_size</code> of your nginx-ingress up to <code>16k</code>.
(See <code>modules/charts/nginx-ingress.yaml</code> for example.).</p>
<p>For rke, this change need patch nginx-ingress config map, please run the following command:</p>
<pre><code class="hljs">kubectl -n ingress-nginx patch cm nginx-configuration --<span class="hljs-built_in">type</span> merge -p <span class="hljs-string">'{"</span>data<span class="hljs-string">":{"</span>client-header-buffer-<span class="hljs-built_in">size</span><span class="hljs-string">":"</span><span class="hljs-number">16</span>k<span class="hljs-string">"}}'</span>
</code></pre></li>
<li><p>The system group (<code>everyone</code>) now has resource limit by default. In previous version, everyone group has unlimited resource limits. They are now set to <code>0</code> by default. If you want to adopt this behavior when upgrading, please source your env file and run <code>modules/upgrade/optional/kc_everyone_group_default_limit.sh</code> to apply.</p></li>
<li><p>Groups now have options to enable shared volume (project group) and set volume capacity on Admin UI. In previous version, project groups depend on naming convention that group name starts with <code>Project-</code>. To migrate existing project groups to new ones with options, please source your env file and run <code>modules/upgrade/optional/kc_group_volume_migration.sh</code>. The migration script will rename existing project groups to remove the prefix <code>Project-</code>, so please check if there is any group name conflict by running <code>modules/upgrade/optional/kc_check_group_names_conflict.sh</code>.</p>
<ul>
<li>To keep using legacy project group naming convention, do NOT run <code>modules/upgrade/optional/kc_group_volume_migration.sh</code> and need to add <code>SUPPORT_OLD_GROUP_VOLUME_CONVENTION=true</code> to your env file. This flag will be applied when you upgrade hub.</li>
</ul></li>
<li><p>Dataset now has option <code>Launch Group Only</code> and will display <code>Mount Root</code> on Admin UI. To migrate existing datasets, please run <code>modules/upgrade/optional/add_mount_root_to_datasets.sh</code>.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="deprecated-2"></a><a href="#deprecated-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deprecated</h3>
<ul>
<li>Project group naming convention is deprecated. Use group options to enable shared volume instead of naming group starts with <code>Project-</code>.</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="v150"></a><a href="#v150" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.5.0</h2>
<ul>
<li>Minimum autoscaling support [<a href="https://app.clubhouse.io/infuseai/story/73">ch73</a>]</li>
<li>map keycloak superuser role to jupyterhub admin [<a href="https://app.clubhouse.io/infuseai/story/65">ch65</a>]</li>
<li>Improve JupyterLab UX on reconnect and server stop [<a href="https://app.clubhouse.io/infuseai/story/42">ch42</a>]</li>
<li>Reorg kubectl plugins [<a href="https://app.clubhouse.io/infuseai/story/130">ch130</a>]</li>
<li>Script to create/delete keycloak user for hub load testing [<a href="https://app.clubhouse.io/infuseai/story/169">ch169</a>]</li>
<li>Implement the single upgrade script for PrimeHub [<a href="https://app.clubhouse.io/infuseai/story/294">ch294</a>]</li>
<li>Planning for cuda10/nvidia410 and tf-2.0 tests [<a href="https://app.clubhouse.io/infuseai/story/70">ch70</a>]  <a href="https://gitlab.com/infuseai/primehub/merge_requests/302">!302</a></li>
<li>Adjust default JupyterPageSlow alert rules [<a href="https://app.clubhouse.io/infuseai/story/166">ch166</a>] <a href="https://gitlab.com/infuseai/primehub/merge_requests/304">!304</a></li>
<li>Setup stable demo environment for potential clients [<a href="https://app.clubhouse.io/infuseai/story/66">ch66</a>]</li>
<li>Replace minikube with KIND in CI [<a href="https://app.clubhouse.io/infuseai/story/68">ch68</a>]</li>
<li>Add unit test to our CI [<a href="https://app.clubhouse.io/infuseai/story/312">ch312</a>]</li>
<li>Basic auto deploy demo hub [<a href="https://app.clubhouse.io/infuseai/story/67">ch67</a>]</li>
<li>Setup g suite oauth &lt;-&gt; b.demo [<a href="https://app.clubhouse.io/infuseai/story/136">ch136</a>]</li>
<li>In hub config, singleuser.nodeSelector is not working [<a href="https://app.clubhouse.io/infuseai/story/145">ch145</a>]</li>
<li>Remove <code>Stop My Server</code> button in control panel after server stopped [<a href="https://app.clubhouse.io/infuseai/story/259">ch259</a>]</li>
<li>JupyterLab UI is not rendering properly on JupyterHub 1.0 [<a href="https://app.clubhouse.io/infuseai/story/128">ch128</a>]</li>
<li>Group name should not be editable. bump admin-ui to v2.8.2 <a href="https://gitlab.com/infuseai/primehub/merge_requests/294">!294</a> <a href="https://gitlab.com/infuseai/canner-admin-ui/issues/104">canner-admin-ui#104</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="action-required-6"></a><a href="#action-required-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ol>
<li><p>After install helm-managed, also run the upgrade
<code>make primehub-upgrade</code></p></li>
<li><p>To use the kubectl plugins, set the <code>$PRIMEHUB_HOME/bin</code> in the PATH environment variables or copy binaries inside to where the env <code>$PATH</code> can resolve it. Here are the kubectl plugins provided</p>
<pre><code class="hljs"> # shortcut to run ceph command
 kubectl ceph 
 # shortcut to run rbd command
 kubectl rbd
 # wrapper of kubectl scale
 kubectl stasis
 # force delete
 kubectl fdelete
</code></pre></li>
<li><p>The nvidia memory limit changes. Please increase memory for nvidia device plugin</p>
<pre><code class="hljs"> kubectl apply -f modules/nvidia/device-plugin/nvidia-device-plugin.yaml
</code></pre></li>
</ol>
<hr>
<h2><a class="anchor" aria-hidden="true" id="v140"></a><a href="#v140" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.4.0</h2>
<ul>
<li>Adjust group user volume capacity logic (min -&gt; max) #457</li>
<li>Fix the Gitlab CI to upgrade the kubernetes version #456</li>
<li>Modify monitoring script for check_node_cordoned not always throw alert #455</li>
<li>Limit user process and other resources that might be harmful to node #454</li>
<li>Show primehub version in hub launch page #453</li>
<li>Initial PrimeHub chart phase1 #452</li>
<li>The docker registry should not be stored at the tmp folder #451</li>
<li>Add merge request template #449</li>
<li>KC password cannot be a number #448</li>
<li>Cpu limit issue on demo hub #447</li>
<li>[CVE-2019-9946] Upgrade kubernetes to 1.12.7 #446</li>
<li>[CVE-2019-10255] Upgrade JupyterHub to 0.9.6 #445</li>
<li>[CVE-2019-1002101] Upgrade kubectl binary to 1.12.7 #444</li>
<li>Full cluster shutdown script for rook 0.9 #443</li>
<li>Unifying user volume capacity keys #441</li>
<li>Full cluster shutdown for rook 0.9.x #440</li>
<li>Reorg kubectl plugins #439</li>
<li>Rsync script for gitsync operation #430</li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="v130"></a><a href="#v130" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.3.0</h2>
<p>Al hail Himalaya!</p>
<ul>
<li>Set TZ env for user notebook #396</li>
<li>Make sure group volume works when default storage class is set #170 stage/qa</li>
<li>Install Tensorboard-enabled image to Demo Hub #259</li>
<li>Grafana dashboard for jupyterhub #271</li>
<li>Backup script for group volume #346</li>
<li>[CVE-2019-1002101] Upgrade kubetctl binary to 1.12.7 #444</li>
<li>Failed to install nvidia-driver in airgap #429</li>
<li>User quota bug in admin UI #194</li>
<li>Make disable_cfs_quota as default in kubelet #433</li>
<li>Improve keycloak backup/restore #395</li>
<li>Ceph metadata device on VG #401</li>
<li>Set rook-block sc default reclaim policy to Retain #432</li>
<li>Don't override the image in helm value for non-airgapped setting #417</li>
<li>Cleanup for modules/support #416</li>
<li>Fix dev-gce Makefile for new installer #414</li>
<li>Ensure dev-gce install in airgap #406</li>
<li>Automate dev-gce airgap environment setup #403</li>
<li>Install Tensorboard-enabled image to Demo Hub #259</li>
<li>Remove public keys from repo #415</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="action-required-7"></a><a href="#action-required-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Action Required</h3>
<ul>
<li><p>Migratie Keycloak client jupyterhub mapper by running the migration script</p>
<pre><code class="hljs">  ./modules/bootstrap/kc_migration.sh
</code></pre></li>
<li><p>Migrate group volume nfs metacontroller</p>
<pre><code class="hljs">  ./modules/primehub-groupvolume-nfs/upgrade.sh
</code></pre></li>
<li><p>upgrade kubectl to 1.12.7. copy <code>./bin/kubectl</code> to $PATH</p></li>
<li><p>upgrade k8s to 1.12.7. Please following the steps</p>
<ol>
<li><p>edit rke configuration file <code>cluster.yml</code></p></li>
<li><p>Add a <code>system_images.kubernetes</code> to <code>rancher/hyperkube:v1.12.7-rancher1</code> and don't change the <code>kubernetes_version</code></p>
<pre><code class="hljs"> kubernetes_version: v1.12.4-rancher1-1    &lt;--- leave v1.12.4. This is used for rke
 system_images:
   etcd: rancher/coreos-etcd:v3.2.24
   kubernetes: rancher/hyperkube:v1.12.7-rancher1    &lt;-----    
   alpine: rancher/rke-tools:v0.1.16
   nginx_proxy: rancher/rke-tools:v0.1.16
</code></pre></li>
<li><p>do the <code>rke up</code></p></li>
</ol></li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="v120"></a><a href="#v120" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.2.0</h2>
<ul>
<li>Group volume (metacontroller) does not work in dev-gce <a href="https://gitlab.com/infuseai/primehub/issues/383">#383</a> type/bug</li>
<li>HOWTO document for add/remove nodes and change the controlplane node <a href="https://gitlab.com/infuseai/primehub/issues/382">#382</a></li>
<li>EFK should only save hub &amp; jupyter logs with log level ≥ warning <a href="https://gitlab.com/infuseai/primehub/issues/378">#378</a></li>
<li>Dataset refresh should not require restarting server <a href="https://gitlab.com/infuseai/primehub/issues/354">#354</a> type/bug</li>
<li>Upgrade rook 0.9.1 <a href="https://gitlab.com/infuseai/primehub/issues/344">#344</a></li>
<li>Test rook bluestore layout for mixed devices <a href="https://gitlab.com/infuseai/primehub/issues/316">#316</a></li>
<li>Survey how to remove a ceph node from cluster <a href="https://gitlab.com/infuseai/primehub/issues/386">#386</a></li>
<li>Upgrade docker for security <a href="https://gitlab.com/infuseai/primehub/issues/404">#404</a></li>
<li>Airgap image push script should stripe shasum <a href="https://gitlab.com/infuseai/primehub/issues/405">#405</a></li>
<li>Dev-gce one command setup script <a href="https://gitlab.com/infuseai/primehub/issues/399">#399</a></li>
<li>Full shutdown/restart script <a href="https://gitlab.com/infuseai/primehub/issues/361">#361</a></li>
<li>Remove ansible templates from ansible &quot;release builder&quot; role <a href="https://gitlab.com/infuseai/primehub/issues/319">#319</a></li>
<li>Refine helmfile process for downloaded charts in airgapped mode <a href="https://gitlab.com/infuseai/primehub/issues/297">#297</a></li>
<li>Per-node upgrade helper <a href="https://gitlab.com/infuseai/primehub/issues/250">#250</a></li>
<li>Survey how to add/remove/manage etcd by rke <a href="https://gitlab.com/infuseai/primehub/issues/385">#385</a></li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="v110"></a><a href="#v110" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.1.0</h2>
<ul>
<li>Jupyter-notebook setup have pip timeout issue when enable network policy <a href="https://gitlab.com/infuseai/primehub/issues/392">#392</a></li>
<li>Upgrade kibana to 6.5.1 <a href="https://gitlab.com/infuseai/primehub/issues/391">#391</a></li>
<li>Tensorboard start-notebook-d conflict with network policy <a href="https://gitlab.com/infuseai/primehub/issues/390">#390</a></li>
<li>Remove not being referenced anymore files in installer/skeleton/ <a href="https://gitlab.com/infuseai/primehub/issues/388">#388</a></li>
<li>Allow multiple login actions for newly created users <a href="https://gitlab.com/infuseai/primehub/issues/384">#384</a></li>
<li>Lock EFK chart version <a href="https://gitlab.com/infuseai/primehub/issues/371">#371</a></li>
<li>Add <code>make install-required-ansible-roles</code> back <a href="https://gitlab.com/infuseai/primehub/issues/366">#366</a></li>
<li>Prometheus-node-exporter does not have resources requests/limits <a href="https://gitlab.com/infuseai/primehub/issues/353">#353</a></li>
<li>Investigate better way to do nvidia.com/gpu: 0 <a href="https://gitlab.com/infuseai/primehub/issues/352">#352</a></li>
<li>Default nodeSelector for fluentd <a href="https://gitlab.com/infuseai/primehub/issues/349">#349</a></li>
<li>Fixed tensorboard serverextension is not correctly set up. <a href="https://gitlab.com/infuseai/primehub/issues/339">#339</a></li>
<li>Correct namespace of primehub-groupvolume-nfs <a href="https://gitlab.com/infuseai/primehub/issues/338">#338</a></li>
<li>Test upgrade path to kubernetes 1.12 <a href="https://gitlab.com/infuseai/primehub/issues/335">#335</a></li>
<li>Show GPU utilization information from dashboard <a href="https://gitlab.com/infuseai/primehub/issues/318">#318</a></li>
<li>Improve pod-level OOM behaviour <a href="https://gitlab.com/infuseai/primehub/issues/317">#317</a></li>
<li>Installer should use downloaded helm binary to pull the remote helm chart <a href="https://gitlab.com/infuseai/primehub/issues/311">#311</a></li>
<li>Keycloak image not overridden with airgap <a href="https://gitlab.com/infuseai/primehub/issues/310">#310</a></li>
<li>Lock prometheus chart version <a href="https://gitlab.com/infuseai/primehub/issues/304">#304</a></li>
<li>Custom search for KeyCloak events in Kibana <a href="https://gitlab.com/infuseai/primehub/issues/296">#296</a></li>
<li>Calico should only throw log with level &gt;= warning <a href="https://gitlab.com/infuseai/primehub/issues/295">#295</a></li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="v100"></a><a href="#v100" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>v1.0.0</h2>
<ul>
<li>Update kubernetes to 1.10.11 for rke install. CVE-2018-1002105 (#300)</li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#upcoming">Upcoming</a><ul class="toc-headings"><li><a href="#whats-new">What's New</a></li><li><a href="#breaking-changes">Breaking Changes</a></li><li><a href="#action-required">Action Required</a></li><li><a href="#deprecated">Deprecated</a></li></ul></li><li><a href="#v211">v2.1.1</a><ul class="toc-headings"><li><a href="#feature">Feature</a></li><li><a href="#bugfix">Bugfix</a></li></ul></li><li><a href="#v210">v2.1.0</a><ul class="toc-headings"><li><a href="#whats-new-1">What's New</a></li><li><a href="#breaking-changes-1">Breaking Changes</a></li><li><a href="#action-required-1">Action Required</a></li><li><a href="#features">Features</a></li><li><a href="#security">Security</a></li><li><a href="#bugfix-1">Bugfix</a></li><li><a href="#third-party">Third Party</a></li><li><a href="#document">Document</a></li></ul></li><li><a href="#v200">v2.0.0</a><ul class="toc-headings"><li><a href="#breaking-changes-2">Breaking Changes</a></li><li><a href="#action-required-2">Action Required</a></li><li><a href="#deprecated-1">Deprecated</a></li><li><a href="#features-1">Features</a></li><li><a href="#bugfix-2">Bugfix</a></li><li><a href="#documents">Documents</a></li></ul></li><li><a href="#v182">v1.8.2</a><ul class="toc-headings"><li><a href="#security-1">Security</a></li></ul></li><li><a href="#v181">v1.8.1</a><ul class="toc-headings"><li><a href="#bugfix-3">Bugfix</a></li></ul></li><li><a href="#v180">v1.8.0</a><ul class="toc-headings"><li><a href="#action-required-3">Action Required</a></li><li><a href="#features-2">Features</a></li><li><a href="#bugfix-4">Bugfix</a></li></ul></li><li><a href="#v170">v1.7.0</a><ul class="toc-headings"><li><a href="#breaking-changes-3">Breaking Changes</a></li><li><a href="#action-required-4">Action Required</a></li></ul></li><li><a href="#v160">v1.6.0</a><ul class="toc-headings"><li><a href="#action-required-5">Action Required</a></li><li><a href="#deprecated-2">Deprecated</a></li></ul></li><li><a href="#v150">v1.5.0</a><ul class="toc-headings"><li><a href="#action-required-6">Action Required</a></li></ul></li><li><a href="#v140">v1.4.0</a></li><li><a href="#v130">v1.3.0</a><ul class="toc-headings"><li><a href="#action-required-7">Action Required</a></li></ul></li><li><a href="#v120">v1.2.0</a></li><li><a href="#v110">v1.1.0</a></li><li><a href="#v100">v1.0.0</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/PrimeHub_icon_128.png" alt="PrimeHub" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/setup_deploy/installation.html">Setup &amp; Deployment</a><a href="/docs/tips/kibana-dashboard.html">Tips &amp; More</a><a href="/docs/index-zh.html">繁中文件</a></div><div><h5>Community</h5><a href="https://github.com/InfuseAI/primehub">PrimeHub CE</a></div><div><h5>More</h5><a href="https://infuseai.io">About InfuseAI</a></div></section><section class="copyright">Copyright © 2019 InfuseAI</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'f482b898949e00de71a14ed19cc167ce',
                indexName: 'infuseai_primehub',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>