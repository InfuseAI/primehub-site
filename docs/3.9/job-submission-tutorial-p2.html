<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>(Part2) MNIST classifier training · PrimeHub</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;ee-only tooltip&quot;&gt;Enterprise"/><meta name="docsearch:version" content="3.9"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="(Part2) MNIST classifier training · PrimeHub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.primehub.io/"/><meta property="og:description" content="&lt;div class=&quot;ee-only tooltip&quot;&gt;Enterprise"/><meta property="og:image" content="https://docs.primehub.io/img/primehub_icon.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.primehub.io/img/primehub_icon.svg"/><link rel="shortcut icon" href="/img/PrimeHub_icon_32.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-123266454-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-123266454-3');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald|Lato:400,400i,700"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/PrimeHub_icon_64.png" alt="PrimeHub"/><h2 class="headerTitleWithLogo">PrimeHub</h2></a><a href="/versions"><h3>3.9</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/3.9/introduction" target="_self">Documentation</a></li><li class=""><a href="/docs/3.9/index-zh" target="_self">繁中文件</a></li><li class=""><a href="https://one.primehub.io/" target="_blank">🌟 1-Click Install ⇗</a></li><li class=""><a href="https://cse.google.com/cse?cx=a1b608e4a3908f544" target="_blank">Search ⇗</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Tutorial</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/one-click-install">One-Click Install 🚀</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/qs-primehub">PrimeHub Quickstart</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Installation<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/one-click-install">One-Click Install 🚀</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/install-manually">Install Manually</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Setup Kubernetes</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/prerequisites">Prerequisites</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/kubernetes_on_gke">Kubernetes on GKE</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/kubernetes_on_eks">Kubernetes on AWS EKS</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Setup PrimeHub Community</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/install_primehub_ce">Install PrimeHub CE</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/kubernetes_on_ubuntu_ce">Install PrimeHub CE on Single Node</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Setup PrimeHub Enterprise</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/install_primehub">Install PrimeHub EE</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/kubernetes_on_ubuntu_machine">Install PrimeHub EE on Single Node</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Upgrade</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/upgrade-ce2ee">From CE to EE</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">End-to-end Tutorial<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-end-to-end-tutorial-1">1 - Label Data</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-end-to-end-tutorial-2">2 - Train and Tune the Model</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-end-to-end-tutorial-3">3 - Manage, Compare, and Deploy the Model</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-end-to-end-tutorial-4">4 - Build the Web App</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-end-to-end-tutorial-summary">Summary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Our Technology<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/concept">Concept</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/nb-data-store">Persistence</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/resources-quota">Resources Quota</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/roles">Permission</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/comparison">Tiers Feature Comparison</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/license-comparison">License Comparison</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/login-portal-user">User Portal</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Notebooks<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/launch-project">Start Notebook</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/user-advanced-setting">Advanced Settings</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/ssh-config">SSH Server Feature</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/notebook-tips">Tips</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Notebook Extension</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/ph-notebook-extension">PrimeHub Extension</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/notebook-as-job">Notebook as a Job</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Jobs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/job-submission-feature">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/job-artifact-feature">Job Artifacts</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tutorial</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/job-submission-tutorial-simple">Simple Example</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/job-submission-tutorial-p1">(Part1) MNIST classifier training</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/3.9/job-submission-tutorial-p2">(Part2) MNIST classifier training</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/job-submission-tutorial-p3">(Advanced) Use Job Submission to Tune Hyperparameters</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/job-submission-tutorial-p4">(Advanced) Model Serving by Seldon</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/job-artifacts-simple">Job Artifacts Simple Usecase</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Schedule<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/job-scheduling-feature">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Models<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/model-management">Overview (Beta)</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-configuration">Configuration</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tutorial</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/model-management-tutorial">Manage and Deploy a Model</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Deployments<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-feature">Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tutorials</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-tutorial-concepts">Concepts</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-tutorial-prepackaged-image">Deploy a Model by Pre-packaged Server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-tutorial-prepackaged-image-phfs">Deploy a Model by Pre-packaged Server (PHFS)</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-tutorial-model-image">Deploy a Model by Image built from Language Wrapper</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Pre-packaged servers</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prepackaged-server-intro">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prepackaged-server-tensorflow2">TensorFlow server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prepackaged-server-pytorch">PyTorch server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prepackaged-server-sklearn">SKLearn server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prepackaged-server-custom">Customize Pre-packaged Server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prepackaged-server-test">Run Pre-packaged Server Locally</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Package from Language Wrapper</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-language-wrapper-intro">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-language-wrapper-python">Package a Model Image for Python</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-language-wrapper-r">Package a Model Image for R</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-language-wrapper-reusable-base-image">Package a Model Image from a Reusable Base Image</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Advanced</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-prediction-apis">Prediction APIs</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model-deployment-model-uri">Model URI</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Shared Files<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/shared-files">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Apps<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app">Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tutorials</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-tutorial-template">Create Your Own App</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-tutorial-mlflow">Create an MLflow server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-tutorial-label-studio">Label Dataset by Label Studio</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Builtin Apps</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-builtin-code-server">Code Server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-builtin-label-studio">Label Studio</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-builtin-matlab">MATLAB</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-builtin-mlflow">MLflow</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/primehub-app-builtin-streamlit">Streamlit</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Group Administration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/group-image">Images</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/group-setting">Settings</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Admin Portal<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/login-portal-admin">Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage users and groups</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-user">User Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-group">Group Management</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage Instance Type</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-instancetype">Instance Type Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/usecase-toleration">Toleration</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/usecase-nodeselector">NodeSelector</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-it-performance">Quality of Service for Pods</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage and build images</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-image">Image Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/custom-image-guideline">Custom Image Guideline</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/images-list">Available Images List</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage Datasets and Upload</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-dataset">Dataset Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-uploader">Upload Server</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage and obtain secrets</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-secret">Secret Management</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Manage Notebook instances</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-nb-admin">Notebooks Admin</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Monthly Report</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-report">Usage Reports</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">System</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/admin-system">System Settings</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Maintenance tool kits</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/maintenance">Maintenance Notebook (deprecated)</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/maintenance-resize-user-vol">Increase User Volume (deprecated)</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/maintenance-resize-group-vol">Increase Group Volume (deprecated)</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Quick Start</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/create-user">Create User</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/create-group">Create Group</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/assign-group-admin">Assign Group Admin</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/add-instance-type">Create/Plan Instance Type</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/add-infuseai-image">Add InfuseAI Image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/add-image">Add Image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/build-image">Build Image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/secret-pull-image">Pull Secret for GitLab</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/secret-gitsync">Gitsync Secret for GitHub</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">PrimeHub Deploy<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/deploy-index">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/quickstart/qs-primehub-deploy">PrimeHub Deploy</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Admin Portal</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/model_deployment/md-admin-portal">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model_deployment/md-group">Group Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model_deployment/md-user">User Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model_deployment/md-instancetype">Instance Type Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model_deployment/md-secret">Secret Management</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/model_deployment/md-system">System Management</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Designs and Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Concepts</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/design/architecture">Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/data-model">Data Model</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/crds">CRDs</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/graphql">GraphQL</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/persistence-storage">Persistence Storages</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Designs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/design/admission">Admission</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/jupyterhub">JupyterHub</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/notebook-kernel-process">Notebook with kernel process</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/dataset-upload">Dataset Upload</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/image-builder">Image Builder</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/job-submission">Job Submission</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/job-scheduler">Job Scheduler</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/job-monitoring">Job Monitoring</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/install-helper-design">Install Helper</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/user-portal">User Portal</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/meta-chart">Primehub Meta Chart</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/model-deployment">Model Deployment (Alpha)</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/primehub-store">PrimeHub Store</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/log-persistence">Log Persistence</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/phfs">PrimeHub File System (PHFS)</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/usage">PrimeHub Usage</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/job-artifact">Job Artifact</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/design/primehub-apps">PrimeHub Apps</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/config-prereq">How to configure</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/configure-primehub-store">PrimeHub Store</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/configure-ssh-server">SSH Server</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/configure-job-submission">Job Submission</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/configure-model-deployment">Model Deployment</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/configure-image-builder">Custom Image Build</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/getting_started/configure-self-signed-ca">Self-Signed Certificate</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tasks<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Jupyter Images</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/repo2docker">repo2docker image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/non-standard-image">Non standard image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/matlab-img">MATLAB Image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/spyder-image">Spyder Image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/rstudio-image">RStudio Image</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/ros-image">ROS Image</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Persistence</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/howto-check-vol-usage">HOWTO - Check Volume Usage</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/howto-resize-vol">HOWTO - Increase Volume Size</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/api-token">Generate API Token</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Monitoring</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/monitoring">Grafana PrimeHub Dashboard</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">MLflow</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/mlflow-compare">Compare MLflow Models</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/3.9/tasks/customize-job-runtime">Customize Runtime</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">References<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/environment-variables">Environment Variables</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/references/primehub_chart">Chart Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/ssh-vscode">VSCode Remote-SSH Notebook</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/guide_manual/ssh-keygen">SSH Key Generation</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/notebook-virtual-env">Multiple Jupyter Notebook Kernels</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Trouble Shooting<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble-shoot-guide">Trouble-shooting Guide</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">JupyterHub</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/jh-blank-page">After spawned, JupyterHub shows a blank page</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/dataset-failure">Jupyter spawning fails due to mounting datasets</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Keycloak</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/kc-brute-force-detection">Lock down accounts after several login failures</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/kc-password-policy">Password Policy</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">SSH Server</h4><ul><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/ssh-server-permission-denied">Permission Denied</a></li><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/ssh-server-connection-refused">Connection Refused</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/3.9/trouble/kubelet-restart">Restart Kubelet</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">(Part2) MNIST classifier training</h1></header><article><div><span><div class="ee-only tooltip">Enterprise
  <span class="tooltiptext">Applicable to Enterprise tier only</span>
</div>
<p>Select the Notebooks icon upon logging in.</p>
<ol>
<li><p>After you login to PrimeHub, please open <code>Notebook</code> in a new tab first.</p></li>
<li><p>Select an <code>instance type</code> with at least one virtual CPU and 2GB RAM.</p></li>
<li><p>Select an <code>image</code> with Tensorflow 1.14.</p></li>
<li><p>Start the notebook.</p>
<p><img src="/docs/assets/jobsub-tt-p2-2.png" alt="image"></p></li>
</ol>
<p>Example using our demo group</p>
<p>Follow the steps below to write code in <code>group volume</code></p>
<ol>
<li><p>Double click your group volume folder.</p></li>
<li><p>Click <code>Text File</code> in the right hand side under the 'Other' section.</p></li>
<li><p>Right click on the new <code>untitled.txt</code> and rename it into <code>train_mnist.py</code></p></li>
<li><p>Write code in the right hand side.</p>
<pre><code class="hljs">import tensorflow <span class="hljs-keyword">as</span> <span class="hljs-keyword">tf</span>
import argparse
import shutil
import os

parser = argparse.ArgumentParser(description=<span class="hljs-string">'Process some integers.'</span>)
parser.add_argument(<span class="hljs-string">'--dropout'</span>, <span class="hljs-built_in">type</span>=float, default=<span class="hljs-number">0.2</span>)
<span class="hljs-keyword">args</span> = parser.parse_args()

mnist = <span class="hljs-keyword">tf</span>.keras.datasets.mnist

(x_train, y_train),(x_test, y_test) = mnist.load_data()
x_train, x_test = x_train / <span class="hljs-number">255.0</span>, x_test / <span class="hljs-number">255.0</span>

model = <span class="hljs-keyword">tf</span>.keras.models.Sequential([
    <span class="hljs-keyword">tf</span>.keras.layers.Flatten(input_shape=(<span class="hljs-number">28</span>, <span class="hljs-number">28</span>)),
    <span class="hljs-keyword">tf</span>.keras.layers.Dense(<span class="hljs-number">512</span>, activation=<span class="hljs-keyword">tf</span>.<span class="hljs-keyword">nn</span>.relu),
    <span class="hljs-keyword">tf</span>.keras.layers.Dropout(<span class="hljs-keyword">args</span>.dropout),
    <span class="hljs-keyword">tf</span>.keras.layers.Dense(<span class="hljs-number">10</span>, activation=<span class="hljs-keyword">tf</span>.<span class="hljs-keyword">nn</span>.softmax)
])

model.compile(optimizer=<span class="hljs-string">'adam'</span>,
                loss=<span class="hljs-string">'sparse_categorical_crossentropy'</span>,
                metrics=[<span class="hljs-string">'accuracy'</span>])

model.fit(x_train, y_train, epochs=<span class="hljs-number">5</span>)
model.evaluate(x_test, y_test)

export_path = <span class="hljs-string">"params_dropout-{}"</span>.format(<span class="hljs-keyword">args</span>.dropout)
<span class="hljs-keyword">if</span> os.path.isdir(export_path):
    <span class="hljs-keyword">print</span>(<span class="hljs-string">'Cleaning up\n'</span>)
    shutil.rmtree(export_path)
os.<span class="hljs-built_in">mkdir</span>(export_path)

model.save(os.path.<span class="hljs-keyword">join</span>(export_path, <span class="hljs-string">'my_model'</span>))
</code></pre></li>
</ol>
<p>This is the example code of training a MNIST classifier.</p>
<p><em>Please note: we are saving a model file in a relative path.</em></p>
<p>Congratulations! You have prepared everything you need to submit a job.</p>
<h2><a class="anchor" aria-hidden="true" id="submit-a-job"></a><a href="#submit-a-job" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Submit a Job</h2>
<p>Confirm if the current group is what you desire; switch the group by the <code>Group:</code> dropdown at the top of the right side.</p>
<p>Select the <code>Jobs</code> icon and click <code>Create Job</code>.</p>
<ol>
<li><p>To submit a job, please open Job Submission in a new tab and create a job by clicking top right button.</p></li>
<li><p>Select your instance type and image on the left panel; ensure that these are the identical to the ones you are using in JupyterLab.</p></li>
<li><p>In the right panel, name the job <code>training mnist</code> in Job Name input field, or another name that prefer.</p></li>
<li><p>Since our code is under group volume and will be mounted in <code>/home/jovyan/&lt;group name&gt; -&gt; /project/&lt;group name&gt;</code>, type the following into the Command input field; replace <code>&lt;group name&gt;</code>:</p>
<pre><code class="hljs"><span class="hljs-keyword">cd</span> <span class="hljs-string">/project/</span>&lt;group name&gt;/
python -u train_mnist.py <span class="hljs-params">--dropout</span> 0.2
</code></pre></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="some-notes-for-the-command-input-field"></a><a href="#some-notes-for-the-command-input-field" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Some notes for the Command input field:</h3>
<ul>
<li>You need to <code>cd</code> into <code>group volume</code> first. Because we save model in a relative path.</li>
<li><code>&lt;group name&gt;</code> is <strong>case sensitive</strong>;</li>
<li>You may notice there is a <code>-u</code> in python command. In Job Submission, Python will buffer the log by default. Adding <code>-u</code> tells Python not to buffer the log so that we can see the log in real time.</li>
<li><code>--dropout</code> is a parameter which we specified in our code.</li>
<li>Job Submission will execute command column as a shell script. Therefore, you can write multiple line just like you are writing a shell script.</li>
<li>If you hover your mouse over the question mark next to <code>Command</code>, you can see more hints.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="jobs-list-page-and-refresh-button"></a><a href="#jobs-list-page-and-refresh-button" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jobs list page and refresh button</h4>
<p><img src="/docs/assets/jobsub-tt-p2-5.png" alt="image"></p>
<p>After submitting a job, the job will appear in the Jobs list in a <code>Pending</code> state. Click the Refresh button in the top right corner to get the latest status of your jobs.</p>
<h4><a class="anchor" aria-hidden="true" id="logs-tab"></a><a href="#logs-tab" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Logs tab</h4>
<p><img src="/docs/assets/jobsub-tt-p2-6.png" alt="image"></p>
<p>To view the Job's log, select the Job name and then click the <code>Logs</code> tab to see that the job is running. Wait for the job to finish running. While waiting, you don't need to wait in the Job Submission page - you can write code and continue to do analyses while the job is running!</p>
<p>When the job is complete, it will output a model file <code>mymodel</code> into JupyterLab.</p>
<h2><a class="anchor" aria-hidden="true" id="test-outputted-model-in-jupyterlab"></a><a href="#test-outputted-model-in-jupyterlab" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test Outputted Model in JupyterLab</h2>
<p>It's time to verify if our job really train a MNIST classifier.</p>
<h4><a class="anchor" aria-hidden="true" id="outputted-model-file-located-in-juypterlab"></a><a href="#outputted-model-file-located-in-juypterlab" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Outputted model file located in JuypterLab</h4>
<p><img src="/docs/assets/jobsub-tt-p2-7.png" alt="image"></p>
<p>In your JupyterLab tab, you can find the outputted model file <code>params_dropout-0.2/my_model</code> in <code>group volume</code>.</p>
<p>If the file does not exist, please check to see if your job succeeded. If the job failed, select the job name to check the log for any error messages. Then try to fix errors and submit again.</p>
<p>Follow the steps below to test the MNIST classifier:</p>
<ol>
<li><p>Ensure that you are in <code>group volume</code></p></li>
<li><p>Click <code>Python 3</code> on the right hand side under the 'Notebook' section</p></li>
<li><p>Write code in your newly created Jupyter notebook on the right hand side:</p>
<p><img src="/docs/assets/jobsub-tt-p2-8.png" alt="image"></p>
<p><strong>Example Code</strong></p>
<pre><code class="hljs">    import tensorflow as tf
    
    mnist = tf<span class="hljs-selector-class">.keras</span><span class="hljs-selector-class">.datasets</span><span class="hljs-selector-class">.mnist</span>
    (x_train, y_train),(x_test, y_test) = mnist.load_data()
    x_train, x_test = x_train / <span class="hljs-number">255.0</span>, x_test / <span class="hljs-number">255.0</span>
    
    model = tf<span class="hljs-selector-class">.keras</span><span class="hljs-selector-class">.models</span>.load_model(<span class="hljs-string">'params_dropout-0.2/my_model'</span>)
    model.evaluate(x_test, y_test)
</code></pre></li>
<li><p>Press <code>shift + enter</code> to execute your code.</p>
<p><img src="/docs/assets/jobsub-tt-p2-9.png" alt="image"></p></li>
</ol>
<p>Example code from testing a MNIST classifier. Warning messages (highlighted in red above) can be ignored since the model's accuracy is ~0.98.</p>
<p>Hooray! You have trained a MNIST classifier through the Job Submission feature!</p>
<p>You may have noticed that we used a notebook during testing, and a Python file in training. We suggest that you write experimental code in the notebook. Once you confirm that the code works, you can convert it to a regular Python file and fully utilize the power of Job Submission. From now on, you can submit many jobs with differing drop rates and check the results.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/3.9/job-submission-tutorial-p1"><span class="arrow-prev">← </span><span>(Part1) MNIST classifier training</span></a><a class="docs-next button" href="/docs/3.9/job-submission-tutorial-p3"><span>(Advanced) Use Job Submission to Tune Hyperparameters</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#submit-a-job">Submit a Job</a><ul class="toc-headings"><li><a href="#some-notes-for-the-command-input-field">Some notes for the Command input field:</a></li></ul></li><li><a href="#test-outputted-model-in-jupyterlab">Test Outputted Model in JupyterLab</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/PrimeHub_icon_128.png" alt="PrimeHub" width="66" height="58"/></a><div><h5></h5><a href="https://discord.gg/CrAxQznedH">Discord</a><a href="https://github.com/infuseai">GitHub</a><a href="https://medium.com/infuseai">Medium</a><a href="https://www.facebook.com/InfuseAI">Facebook</a><a href="https://www.katacoda.com/infuseai">Katacoda</a></div><div><h5>More</h5><a href="https://infuseai.io">About InfuseAI</a><a href="/docs/comparison">Community | Enterprise | Deploy</a><a href="https://docs.google.com/forms/d/e/1FAIpQLSe_Z8JfIbYnvhOampGN_XXle4d3GVX04E8evnNI_Py3abth-A/viewform">Request Trial</a></div></section><section class="copyright">Copyright © 2023 InfuseAI</section></footer></div></body></html>