<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Prerequisites ¬∑ PrimeHub</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Prerequisites"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Prerequisites ¬∑ PrimeHub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.primehub.io/"/><meta property="og:description" content="Prerequisites"/><meta property="og:image" content="https://docs.primehub.io/img/primehub_icon.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.primehub.io/img/primehub_icon.svg"/><link rel="shortcut icon" href="/img/PrimeHub_icon_32.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-123266454-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-123266454-3');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald|Lato:400,400i,700"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/PrimeHub_icon_64.png" alt="PrimeHub"/><h2 class="headerTitleWithLogo">PrimeHub</h2></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/next/introduction" target="_self">Documentation</a></li><li class=""><a href="/docs/next/index-zh" target="_self">ÁπÅ‰∏≠Êñá‰ª∂</a></li><li class=""><a href="https://one.primehub.io/" target="_blank">üåü 1-Click Install ‚áó</a></li><li class=""><a href="https://cse.google.com/cse?cx=a1b608e4a3908f544" target="_blank">Search ‚áó</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Prerequisites</h1></header><article><div><span><div class="label-sect">
  <div class="ee-only tooltip">Enterprise
    <span class="tooltiptext">Applicable to Enterprise Edition</span>
  </div>
  <div class="ce-only tooltip">Community
    <span class="tooltiptext">Applicable to Community Edition</span>
  </div>
</div>
<blockquote>
<p>For PrimeHub installation on <strong>single node</strong>, please visit <a href="kubernetes_on_ubuntu_ce">Install PrimeHub CE on Single Node</a> or <a href="kubernetes_on_ubuntu_machine">Install PrimeHub EE on Single Node</a> directly.</p>
</blockquote>
<blockquote>
<p>For PrimeHub installation on <strong>multiple nodes</strong>, please read the prerequisites thoroughly. Before installing PrimeHub, we need to provide a PrimeHub-ready-Kubernetes, which should contain following essentials. Make sure the cluster is ready for PrimeHub.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="kubernetes-cluster-119--121"></a><a href="#kubernetes-cluster-119--121" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kubernetes Cluster (1.19 ~ 1.21)</h2>
<blockquote>
<ul>
<li>The Kubernetes version 1.19 ~ 1.21 are supported.</li>
<li>The Kubernetes version 1.22+ is not supported.</li>
</ul>
</blockquote>
<p>If you already have a Kubernetes cluster or going to install one in your own preference, make sure the cluster meets the requirements below.</p>
<p>If a fresh PrimeHub on GKE or EKS is one of your preferences, you may want to start from our <a href="kubernetes_on_gke">Kubernetes on GKE</a> guide or <a href="kubernetes_on_eks">Kubernetes on EKS</a> guide.</p>
<h2><a class="anchor" aria-hidden="true" id="git"></a><a href="#git" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Git</h2>
<blockquote>
<p>Please follow the os-specific command to install git command</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="curl"></a><a href="#curl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>cURL</h2>
<p><a href="https://curl.se/">cURL</a> is a command-line tool that allows us to do HTTP requests from shell. To install cURL, please follow the os-specific method. For example.</p>
<p>Ubuntu</p>
<pre><code class="hljs"><span class="hljs-attr">sudo</span> <span class="hljs-string">apt update</span>
<span class="hljs-attr">sudo</span> <span class="hljs-string">apt install curl</span>
</code></pre>
<p>RHEL/CentOS</p>
<pre><code class="hljs">yum <span class="hljs-keyword">install</span> curl
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="kubectl"></a><a href="#kubectl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Kubectl</h2>
<p><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a> is used to access the cluster. To install kubectl, please follow the instructions, or visit <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl - Install Tools</a> for preferred operating system.</p>
<p>Linux</p>
<pre><code class="hljs">KUBECTL_VERSION=v1.19.15
curl -LO https:<span class="hljs-string">//dl.k8s.io/release/</span>${KUBECTL_VERSION}<span class="hljs-string">/bin/linux/amd64/kubectl</span>
chmod +x <span class="hljs-string">./kubectl</span>
sudo mv <span class="hljs-string">./kubectl</span> <span class="hljs-string">/usr/local/bin/kubectl</span>
kubectl <span class="hljs-keyword">version</span> <span class="hljs-params">--client</span>
</code></pre>
<p>MacOS</p>
<p>You can use brew to install</p>
<pre><code class="hljs"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>kubectl
</code></pre>
<p>or below commands</p>
<pre><code class="hljs">KUBECTL_VERSION=v1.19.15
curl -LO https:<span class="hljs-string">//dl.k8s.io/release/</span>${KUBECTL_VERSION}<span class="hljs-string">/bin/darwin/amd64/kubectl</span>
chmod +x <span class="hljs-string">./kubectl</span>
sudo mv <span class="hljs-string">./kubectl</span> <span class="hljs-string">/usr/local/bin/kubectl</span>
kubectl <span class="hljs-keyword">version</span> <span class="hljs-params">--client</span>
</code></pre>
<p>For more details, please see the <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubernetes official document</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="helm"></a><a href="#helm" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Helm</h2>
<p>PrimeHub is packaged and installed by <a href="https://helm.sh/docs/using_helm/">Helm</a></p>
<blockquote>
<p>From PrimeHub v3.0, we recommend Helm v3.6.2+.</p>
</blockquote>
<p>Installation steps:</p>
<ol>
<li>Go to the <a href="https://github.com/helm/helm/releases/tag/v3.6.2">Helm release page (v3.6.2)</a></li>
<li>Download the package according to your OS</li>
<li>Unpack the package and put the <code>helm</code> binary in you <code>$PATH</code></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="domain-name"></a><a href="#domain-name" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Domain name</h2>
<p>PrimeHub requires a domain name or fix IP address to access the service from the user machines.</p>
<blockquote>
<p>The minimum requirement: The domain name can be accessible to the ingress node (by DNS CNAME or L4/L7 load balancer) from the users machines</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="nginx-ingress-controller"></a><a href="#nginx-ingress-controller" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nginx ingress Controller</h2>
<p><a href="https://github.com/kubernetes/ingress-nginx">Nginx Ingress Controller</a> is used to control the <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">ingress</a> traffic.</p>
<blockquote>
<p>Other ingress controllers may work. But the nginx ingress controller is the solution we develop on.</p>
</blockquote>
<p>Add Chart repo</p>
<pre><code class="hljs css language-bash">helm repo <span class="token function">add</span> ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
</code></pre>
<p>Helm install</p>
<pre><code class="hljs css language-bash">helm <span class="token function">install</span> nginx-ingress ingress-nginx/ingress-nginx --create-namespace --namespace ingress-nginx --set controller.hostNetwork<span class="token operator">=</span>true --set rbac.create<span class="token operator">=</span>true
</code></pre>
<p>Verify it</p>
<pre><code class="hljs css language-bash">kubectl get svc -n ingress-nginx
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="dynamic-volume-provisioner"></a><a href="#dynamic-volume-provisioner" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dynamic Volume Provisioner</h2>
<p><a href="https://kubernetes.io/docs/concepts/storage/dynamic-provisioning/">Dynamic Volume Provisioner</a> is used to provision a <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">PVC</a> dynamically. Make sure that there is a <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/">storage class</a> using this provisioner.</p>
<p>Check if the default storage class is available.</p>
<pre><code class="hljs css language-bash">kubectl get storageclass
</code></pre>
<p>If there is no available storage class, patch it with one you want. See <a href="https://kubernetes.io/docs/tasks/administer-cluster/change-default-storage-class/">Change the default StorageClass‚Üó</a>.</p>
<p>Patch a storage class</p>
<pre><code class="hljs css language-batch">kubectl patch storageclass <span class="hljs-variable">&lt;STORAGE_CLASS_NAME&gt;</span> -p '{<span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"annotations"</span>:{<span class="hljs-string">"storageclass.kubernetes.io/is-default-class"</span>:<span class="hljs-string">"true"</span>}}}'
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="cert-manager-optional"></a><a href="#cert-manager-optional" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cert Manager (Optional)</h2>
<p>If https is required in your environment, <a href="https://github.com/jetstack/cert-manager">cert-manager</a> provides an easy way to set up a certificate.</p>
<h2><a class="anchor" aria-hidden="true" id="behind-firewall-optional"></a><a href="#behind-firewall-optional" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Behind Firewall (Optional)</h2>
<ul>
<li><p>Please open port <code>22, 80 and 443</code>.</p></li>
<li><p>Please add these domains below in allow-list</p>
<pre><code class="hljs css language-text"># Docker image registry
*.docker.com
*.docker.io
*.gitlab.com
quay.io
gcr.io

# Helm chart repository
*.github.io
*.storage.googleapis.com
storage.googleapis.com
charts.infuseai.io
charts.rook.io        
charts.jetstack.io

# Nvidia driver
*.nvidia.com

</code></pre></li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#kubernetes-cluster-119--121">Kubernetes Cluster (1.19 ~ 1.21)</a></li><li><a href="#git">Git</a></li><li><a href="#curl">cURL</a></li><li><a href="#kubectl">Kubectl</a></li><li><a href="#helm">Helm</a></li><li><a href="#domain-name">Domain name</a></li><li><a href="#nginx-ingress-controller">Nginx ingress Controller</a></li><li><a href="#dynamic-volume-provisioner">Dynamic Volume Provisioner</a></li><li><a href="#cert-manager-optional">Cert Manager (Optional)</a></li><li><a href="#behind-firewall-optional">Behind Firewall (Optional)</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/PrimeHub_icon_128.png" alt="PrimeHub" width="66" height="58"/></a><div><h5></h5><a href="https://discord.gg/CrAxQznedH">Discord</a><a href="https://github.com/infuseai">GitHub</a><a href="https://medium.com/infuseai">Medium</a><a href="https://www.facebook.com/InfuseAI">Facebook</a><a href="https://www.katacoda.com/infuseai">Katacoda</a></div><div><h5>More</h5><a href="https://infuseai.io">About InfuseAI</a><a href="/docs/comparison">Community | Enterprise | Deploy</a><a href="https://docs.google.com/forms/d/e/1FAIpQLSe_Z8JfIbYnvhOampGN_XXle4d3GVX04E8evnNI_Py3abth-A/viewform">Request Trial</a></div></section><section class="copyright">Copyright ¬© 2022 InfuseAI</section></footer></div></body></html>