<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Image Builder · PrimeHub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Administrators are able to create custom images with pre-installed tools and libraries which are required for users."/><meta name="docsearch:version" content="2.5"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Image Builder · PrimeHub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.primehub.io/"/><meta property="og:description" content="Administrators are able to create custom images with pre-installed tools and libraries which are required for users."/><meta property="og:image" content="https://docs.primehub.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.primehub.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/PrimeHub_icon_32.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-123266454-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-123266454-3');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/PrimeHub_icon_64.png" alt="PrimeHub"/><h2 class="headerTitleWithLogo">PrimeHub</h2></a><a href="/versions"><h3>2.5</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/2.5/introduction" target="_self">PrimeHub</a></li><li class=""><a href="/docs/2.5/deploy-index" target="_self">PrimeHub Deploy</a></li><li class=""><a href="/docs/2.5/dev-introduction" target="_self">Technical Reference</a></li><li class=""><a href="/docs/2.5/index-zh" target="_self">繁中文件</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Management</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Administrator<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/2.5/getting-started-admin">Administration</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/custom-image-guideline">Custom Image Guideline</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Management<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-system">System Management</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-user">User Management</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-group">Group Management</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-instancetype">Instance Type Management</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-image">Image Management</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/2.5/guide_manual/admin-build-image">Image Builder</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-dataset">Dataset Management</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/admin-secret">Secret Management</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Quickstart<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/login-portal-admin">User Portal</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/create-user">Create User</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/create-group">Create Group</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/add-instance-type">Create/Plan Instance Type</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Image</h4><ul><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/add-image">Add Image</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/build-image">Build Image</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Secrets</h4><ul><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/secret-pull-image">Pull Secret for GitLab</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/secret-gitsync">Gitsync secret for GitHub</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Maintenance<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/maintenance-resize-user-vol">Increase User Volume</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/quickstart/maintenance-resize-group-vol">Increase Group Volume</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Use Case<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/usecase-toleration">Toleration</a></li><li class="navListItem"><a class="navItem" href="/docs/2.5/guide_manual/usecase-nodeselector">NodeSelector</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Image Builder</h1></header><article><div><span><p>Administrators are able to create custom images with pre-installed tools and libraries which are required for users.</p>
<h2><a class="anchor" aria-hidden="true" id="custom-image-list"></a><a href="#custom-image-list" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Image List</h2>
<p><img src="/docs/assets/build_img_main.png" alt=""></p>
<p>In <code>Image Builder</code> section, there is a list of created custom image specs with several fields as below:</p>
<ul>
<li><p><code>Name</code> The name of a custom image spec.</p></li>
<li><p><code>Status</code> The status of the latest custom built image.</p></li>
<li><p><code>Image</code> The url of the latest built image once it is built successfully.</p></li>
<li><p><code>Actions</code> - <code>Edit</code> and <code>Delete</code>.</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="create-custom-image-spec"></a><a href="#create-custom-image-spec" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Custom Image Spec</h2>
<p>Click <code>+ Add</code> button to enter the creation page.</p>
<p><img src="/docs/assets/build_img_create.png" alt=""></p>
<p>Fill in the fields, some are required:</p>
<ul>
<li><p><code>Name</code> (required) A unique name, it's not able to be modified once created. <em>(Only lowercase letters, numbers, dash <code>-</code> and the bottom line <code>_</code> can be filled in.)</em></p></li>
<li><p><code>Base image</code> (required) The url of the base image.</p></li>
<li><p><code>Use Image PullSecret</code> Checked off if a pull secret is required.</p></li>
<li><p><code>Packages</code> choose packages installer/management and fill in packages requirement.</p>
<ul>
<li><p><code>APT</code> Packages management of Debian, Ubuntu and related Linux distribution.</p></li>
<li><p><code>Pip</code>  Using python packages installer. <a href="https://packaging.python.org/tutorials/installing-packages/#use-pip-for-installing">[Reference]</a></p></li>
<li><p><code>Conda</code> A packages management supports multiple programming language. <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-pkgs.html#installing-packages">[Reference]</a></p></li>
</ul></li>
</ul>
<p><strong>Note</strong>:
<em>In case of multiple packages, please using the <strong>line break</strong> for each package instead of putting them in one line.</em></p>
<p>Click <code>Confirm</code> to complete the addition.</p>
<p><img src="/docs/assets/build_img_url.png" alt=""></p>
<p>Once the image is built successfully, the url of the image will be listed.</p>
<hr>
<h3><a class="anchor" aria-hidden="true" id="conda-package-match-specification"></a><a href="#conda-package-match-specification" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conda Package Match Specification</h3>
<p>We want to mention specially that Conda supports to specify <code>channel</code> where the package is sourced from and <a href="https://docs.conda.io/projects/conda-build/en/latest/resources/package-spec.html#package-match-specifications">match specification</a> of the package. The syntax is</p>
<pre><code class="hljs css language-txt">(channel(/subdir):(<span class="hljs-keyword">namespace</span>):)<span class="hljs-symbol">name</span>(<span class="hljs-symbol">version</span>(<span class="hljs-symbol">build</span>))[<span class="hljs-symbol">key1</span>=<span class="hljs-symbol">value1</span>,<span class="hljs-symbol">key2</span>=<span class="hljs-symbol">value2</span>]
</code></pre>
<p>For example, we want to install <code>numpy</code> package which is sourced from the channel,<code>conda-forge</code>, <a href="https://anaconda.org/conda-forge/numpy">here</a>.</p>
<p>We can use <code>conda-forge::</code> to specify the channel:</p>
<pre><code class="hljs css language-bash">conda <span class="token function">install</span> conda-forge::numpy<span class="token operator">==</span><span class="token number">1.17</span>*
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="edit-custom-image-spec"></a><a href="#edit-custom-image-spec" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Edit Custom Image Spec</h2>
<p><img src="/docs/assets/edit_button.png" alt=""></p>
<p>Click the button to enter the edit page of the custom image spec.</p>
<p><img src="/docs/assets/build_img_edit.png" alt=""></p>
<p>On edit page, there are two tabs, <code>Info</code> and <code>Jobs</code>.
<code>Info</code> is exactly same as creation page. We can make modifications to the spec, except the <code>Name</code> which is not editable.</p>
<p>Once any modification is confirmed, a job of image build will be triggered and it will be listed in the tab <code>Jobs</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="jobs"></a><a href="#jobs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Jobs</h3>
<p>A job is an image build job. Once a creation of a custom image spec is confirmed, the first job of image build is triggered automatically. Afterwards, any confirmed modifications of spec will trigger other image build jobs. Each job logs the spec and the progress.</p>
<p>These <strong>jobs</strong>/<strong>image urls</strong> are listed here.</p>
<p><img src="/docs/assets/build_img_jobs.png" alt=""></p>
<ul>
<li><p><code>Updated At</code> The timestamp when the job is updated.</p></li>
<li><p><code>Image Revision</code> The revision of an custom image.</p></li>
<li><p><code>Status</code> The status of the custom image creation job.</p></li>
<li><p><code>Actions</code> - View the spend and logs of an custom image build.</p></li>
</ul>
<p><img src="/docs/assets/build_img_job_view.png" alt=""></p>
<p>Click the button, we can check the log of each job of image build with its spec.</p>
<p><img src="/docs/assets/build_img_job.png" alt=""></p>
<p>It is helpful that when we want to know what made image build fail and what spec the image build is based on.</p>
<h2><a class="anchor" aria-hidden="true" id="delete-custom-image-spec"></a><a href="#delete-custom-image-spec" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Delete Custom Image Spec</h2>
<p><img src="/docs/assets/build_img_del.png" alt=""></p>
<p>Click the button, the confirmation dialog will pop up, and the custom image spec will be deleted once you click <code>OK</code>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/2.5/guide_manual/admin-image"><span class="arrow-prev">← </span><span>Image Management</span></a><a class="docs-next button" href="/docs/2.5/guide_manual/admin-dataset"><span>Dataset Management</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#custom-image-list">Custom Image List</a></li><li><a href="#create-custom-image-spec">Create Custom Image Spec</a><ul class="toc-headings"><li><a href="#conda-package-match-specification">Conda Package Match Specification</a></li></ul></li><li><a href="#edit-custom-image-spec">Edit Custom Image Spec</a><ul class="toc-headings"><li><a href="#jobs">Jobs</a></li></ul></li><li><a href="#delete-custom-image-spec">Delete Custom Image Spec</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/PrimeHub_icon_128.png" alt="PrimeHub" width="66" height="58"/></a><div><h5></h5><a href="https://github.com/infuseai">GitHub</a><a href="https://medium.com/infuseai">Medium</a><a href="https://www.facebook.com/InfuseAI">Facebook</a></div><div><h5>More</h5><a href="https://infuseai.io">About InfuseAI</a><a href="/docs/next/comparison">Community | Enterprise</a><a href="https://docs.google.com/forms/d/e/1FAIpQLSe_Z8JfIbYnvhOampGN_XXle4d3GVX04E8evnNI_Py3abth-A/viewform">Request Trial</a></div></section><section class="copyright">Copyright © 2020 InfuseAI</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'f482b898949e00de71a14ed19cc167ce',
                indexName: 'infuseai_primehub',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>