<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Quality of Service · PrimeHub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="If you have ever wondered that the performance of the launching instance doesn&#x27;t meet the expectation of CPUs request in the setting of the instance type. You many want to learn how Kubernetes manages CPU workload which may affect the performance you ."/><meta name="docsearch:version" content="3.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Quality of Service · PrimeHub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.primehub.io/"/><meta property="og:description" content="If you have ever wondered that the performance of the launching instance doesn&#x27;t meet the expectation of CPUs request in the setting of the instance type. You many want to learn how Kubernetes manages CPU workload which may affect the performance you ."/><meta property="og:image" content="https://docs.primehub.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.primehub.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/PrimeHub_icon_32.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-123266454-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-123266454-3');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/PrimeHub_icon_64.png" alt="PrimeHub"/><h2 class="headerTitleWithLogo">PrimeHub</h2></a><a href="/versions"><h3>3.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/introduction" target="_self">PrimeHub</a></li><li class=""><a href="/docs/deploy-index" target="_self">PrimeHub Deploy</a></li><li class=""><a href="/docs/dev-introduction" target="_self">Technical Reference</a></li><li class=""><a href="/docs/index-zh" target="_self">繁中文件</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Quality of Service</h1></header><article><div><span><p>If you have ever wondered that the performance of the launching instance doesn't meet the expectation of CPUs request in the setting of the instance type. You many want to learn how Kubernetes manages CPU workload which may affect the performance you .</p>
<ul>
<li><p><a href="https://kubernetes.io/docs/tasks/administer-cluster/cpu-management-policies/#static-policy">CPU Management Policies↗</a></p></li>
<li><p><a href="https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/">Quality of Service for Pods↗</a></p></li>
</ul>
<p>Basically speaking, if the performance is the concern, we can configure the instance type to meet the conditions to have exclusive CPUs:</p>
<ol>
<li><p><code>cpu-manager-policy</code>: <code>static</code> (If the circumstance is set up by InfuseAI, by default, it is <code>static</code>.)</p></li>
<li><p><code>QoS</code> classes of a Pod: <code>Guaranteed</code>; the condition for a Pod in Guaranteed.</p>
<blockquote>
<p>For a Pod to be given a QoS class of Guaranteed:
<br>1. Every Container in the Pod must have a memory limit and a memory request, and they must be the same.
<br>2. Every Container in the Pod must have a CPU limit and a CPU request, and they must be the same.</p>
</blockquote>
<p>According to the criteria above, we can set</p>
<ul>
<li>An instance type <em>must have a <strong>memory limit</strong> and a <strong>memory request</strong>, and they must be the <strong>same</strong></em>.</li>
<li>An instance type <em>must have a <strong>CPU limit</strong> and a <strong>CPU request</strong>, and they must be the <strong>same</strong></em>.</li>
</ul></li>
<li><blockquote>
<p>Only containers that are both part of a Guaranteed pod and have integer CPU requests are assigned exclusive CPUs.</p>
</blockquote>
<p>According to the suggestion above, we can set</p>
<ul>
<li>An instance type must have <strong>integer CPU requests/limit</strong>*.</li>
</ul></li>
</ol>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/PrimeHub_icon_128.png" alt="PrimeHub" width="66" height="58"/></a><div><h5></h5><a href="https://github.com/infuseai">GitHub</a><a href="https://medium.com/infuseai">Medium</a><a href="https://www.facebook.com/InfuseAI">Facebook</a></div><div><h5>More</h5><a href="https://infuseai.io">About InfuseAI</a><a href="/docs/next/comparison">Community | Enterprise</a><a href="https://docs.google.com/forms/d/e/1FAIpQLSe_Z8JfIbYnvhOampGN_XXle4d3GVX04E8evnNI_Py3abth-A/viewform">Request Trial</a></div></section><section class="copyright">Copyright © 2020 InfuseAI</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'f482b898949e00de71a14ed19cc167ce',
                indexName: 'infuseai_primehub',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>