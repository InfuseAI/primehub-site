---
id: version-2.6-job-submission-cht
title: Job Submission (Beta)
original_id: job-submission-cht
---

<div class="ee-only tooltip">Enterprise
  <span class="tooltiptext">Available in Enterprise tier only</span>
</div>

## Job

æˆ‘å€‘æœ‰æ™‚æœƒéœ€è¦æ‰¹æ¬¡å®Œæˆç‰¹å®šå·¥ä½œã€‚ç‰¹åˆ¥æ˜¯éœ€è¦é•·æ™‚é–“é‹ç®—çš„å·¥ä½œï¼Œä½¿ç”¨è€…åˆç„¡æ³•ä¸€ç›´ç›£è¦–è‘—æ•´å€‹éç¨‹çš„æ™‚å€™ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨`Job Submission`å‰µå»ºä¸€å€‹`Job`æŠŠå·¥ä½œæŒ‡ä»¤é …ç›®æ‰¹æ¬¡åœ°åŠ å…¥ï¼Œå†å°‡`Job`é€å‡ºæ–¼èƒŒæ™¯åŸ·è¡Œï¼Œéš¨æ™‚åœ°ç›£è¦–åŸ·è¡Œçš„éç¨‹åŠçµæœã€‚å¦‚æœæˆ‘å€‘æƒ³è¦çš„æ˜¯é€±æœŸæ€§è‡ªå‹•ç™¼å‹•çš„`job`ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨ [**Job Scheduler**](job-scheduling-feature-cht) ä¾†å‰µå»ºé€™é¡å‹ job åŠè¨­å®šå…¶é€±æœŸæ€§ã€‚

### Lifetime

+ `job`æœ€é•·å¯ä»¥åŸ·è¡Œ **24** å€‹å°æ™‚ã€‚ä¸€æ—¦è¶…é 24 å°æ™‚å¾Œï¼Œæœƒè¢«ä¸­æ­¢å®£å‘Šå¤±æ•—ã€‚

+ çµæŸçš„`job`è¨˜éŒ„åŸºæœ¬ä¸Šæœƒè¢«ä¿ç•™ **7** å¤©ï¼›è¶…é 7 å¤©å¾Œï¼Œ`job`é‚„æ˜¯æœƒåœ¨åˆ—èˆ‰ä¸­ï¼Œä½†`Logs`è³‡è¨Šæœƒè¢«åˆªé™¤ã€‚
    ***è«‹æ³¨æ„ï¼šç”±æ–¼ Job å®¹å™¨æœ‰å¯èƒ½ææ—©è¢«å…¶åŸ·è¡Œç’°å¢ƒçµ¦å›æ”¶ï¼Œå› æ­¤`Logs`æœ‰å¯èƒ½åœ¨ 7 å¤©å…§è¢«åˆªé™¤ã€‚***

## åˆ—èˆ‰ Job

æ­¤é åˆ—èˆ‰å·²å‰µå»º Jobs åŠå…¶å°æ‡‰è³‡è¨Šã€‚

![](assets/jsub_main_beta_v26.png)

åˆ—èˆ‰ä¸­çš„`Job`å°æ‡‰è³‡è¨Šæ¬„ä½ï¼š

|æ¬„ä½|æè¿°|
|------|-----------|
|`Status`|ç‹€æ…‹ï¼Œ `Pending`, `Preparing`, `Running`, `Failed`, `Succeeded` åŠ `Cancelled`|
|`Job name`|åç¨±|
|`Schedule`|å¦‚æœæ­¤ Job æ˜¯è¢« scheduler æ ¹æ“šæ’ç¨‹æ™‚é–“ç™¼å‹•çš„è©±ï¼Œé€™è£¡æœƒé¡¯ç¤º Scheduler åç¨±ï¼›åä¹‹é¡¯ç¤º`-`ã€‚|
|`User`|æ‰€æœ‰è€…|
|`Group`|æ‰€å±¬ç¾¤çµ„|
|`Timing`|åŸ·è¡Œæ™‚é–“|
|`Action`|`Cancel`æˆ–`Rerun`|

+ `Create Job`: é»æ“ŠæŒ‰éˆ•ï¼Œå‰µå»º`job`ã€‚

+ `Refresh`: é»æ“ŠæŒ‰éˆ•ï¼Œåˆ·æ–°`job`åˆ—èˆ‰ã€‚

+ `Job name` link: é»æ“Šåç¨±é€£çµï¼Œé€²å…¥ Job è©³ç´°é ã€‚

+ `Schedule` link: é»æ“Šåç¨±é€£çµï¼Œé€²å…¥ Job Scheduler è©³ç´°é ã€‚

### ç¯©é¸

åˆ©ç”¨ Group é¸å–ä½œç‚ºç¯©é¸ã€‚

![](assets/jsub_filter_beta_v26.png)

+ é è¨­ (Group é¸å–ç‚ºç©ºç™½)ï¼š åˆ—èˆ‰æ‰€æœ‰ä½¿ç”¨è€…æ‰€å±¬ç¾¤çµ„å‰µå»ºçš„`job`ã€‚éæ‰€å±¬ç¾¤çµ„çš„ï¼Œå‰‡ä¸åœ¨æ­¤åˆ—ã€‚

+ æŒ‡å®š Groupï¼š æŒ‡å®šç¾¤çµ„ï¼Œåªåˆ—èˆ‰æŒ‡å®šæ‰€å±¬ç¾¤çµ„å‰µå»º`job`ã€‚

+ è©²ä½¿ç”¨è€…å‰µå»ºï¼š å‹¾é¸`Submitted by Me`åªåˆ—èˆ‰è©²ä½¿ç”¨è€…å‰µå»ºçš„`job`ã€‚

## å‰µå»º Job

![](assets/jsub_create.png)

+ `Group`: é¸æ“‡`job`æ‰€å±¬ç¾¤çµ„ã€‚

+ `InstanceTypes`: é¸æ“‡`job`æ‰€éœ€`instance type`è³‡æºä½ˆå±¬ã€‚

+ `Images`: é¸æ“‡`job`çš„åŸ·è¡Œç’°å¢ƒã€‚

+ `Job name`: æŒ‡å®š`job`åç¨±ã€‚

+ `Command`: æŒ‡å®š`job`æ‰¹æ¬¡å·¥ä½œé …ç›®ã€‚

### Job å¯å­˜å–å·¥ä½œç›®éŒ„ã€å°ˆæ¡ˆç›®éŒ„åŠè³‡æ–™é›†ç›®éŒ„

 >æ³¨æ„ï¼šJob çš„é è¨­è·¯å¾‘æ˜¯åœ¨ `/homve/jovyan`ï¼Œä½†é€™æ˜¯åœ¨ Job Pod è£¡çš„ç’°å¢ƒï¼Œä¸æ˜¯ JupyterHub Pod è£¡ï¼
 æ‰€ä»¥ JupyterHub `/home/jovyan`ä¸‹çš„å…¶å®ƒæª”æ¡ˆä¸¦ **ä¸å­˜åœ¨** æ­¤æ™‚çš„ Job Pod çš„`/homejovyan`ã€‚Job é€™è£¡åªæœƒæœ‰æ›è¼‰çš„`<group volume>`åŠ`<dataset>`ã€‚

 |ç›®éŒ„|æè¿°|
 |---------|-----------|
 |`/home/jovyan`|`job`åŸ·è¡Œæ™‚çš„æš«å­˜å·¥ä½œç›®éŒ„ã€‚***æ³¨æ„:** å¦‚æœè¼¸å‡º data æ–¼æ­¤ï¼Œæ­¤ data å°‡æœƒè‘—`job`çµæŸè€Œæ¶ˆå¤±ï¼Œåªèƒ½åšç‚ºæš«å­˜ä¹‹ç”¨ã€‚ ä¸å†æ˜¯~~`/workingdir`~~*ï¼|
 |`/home/jovyan/<group> -> /project/<group>/`|ç”¨æ­¤è·¯å¾‘(æˆ– Symbolic link)ï¼Œå­˜å–ç¾¤çµ„ç›®éŒ„ï¼Œå¯ä»¥åšç‚ºè®€å–åŠè¼¸å‡ºå¸¸æ…‹æ€§è³‡æ–™ï¼Œå³ä½¿`job`å·²ç¶“çµæŸã€‚***æ³¨æ„ï¼š** `group volume`å¿…é ˆè¦äº‹å­˜åœ¨ï¼Œè«‹æ´½ç³»çµ±ç®¡ç†å“¡ã€‚*|
 |`/home/jovyan/datasets/<dataset> -> /datasets/<dataset>`|ç”¨æ­¤è·¯å¾‘(æˆ– Symbolic link)ï¼Œå­˜å–ç¾¤çµ„è³‡æ–™é›†ã€‚***æ³¨æ„ï¼š** `dataset volume`å¿…é ˆè¦äº‹å…ˆå­˜åœ¨ï¼Œè«‹æ´½ç³»çµ±ç®¡ç†å“¡ã€‚*|

### Job å¯å­˜å–ç’°å¢ƒè®Šæ•¸

|è®Šæ•¸åç¨±|æè¿°|
|------------|-----------|
|`$PRIMEHUB_USER`|Job æ‰€æœ‰è€…|
|`$PRIMEHUB_GROUP`|Job æ‰€å±¬ç¾¤çµ„|

**Python command option**

+ `python -u` æˆ‘å€‘å¯ä»¥ç”¨ `-u` å¼·åˆ¶è¼¸å‡ºè¨Šæ¯ä¸ç¶“ç”±ç·©è¡ï¼Œå¦‚æ­¤å¯ä»¥åœ¨`Logs`çœ‹åˆ°å³æ™‚è¨Šæ¯ã€‚
**Example 1**: å‡è¨­`train_mint.py`äº‹å…ˆå­˜åœ¨åå«`research`çš„`group volume`ï¼Œæˆ‘å€‘å¯ä»¥é€²`/project/research`ä¸‹ï¼ŒåŸ·è¡Œè©² python file åšç‚ºä¸€å€‹`job`ã€‚`job`åŸ·è¡ŒæœŸé–“è¼¸å‡ºçš„ data å‰‡å­˜åœ¨æ­¤è·¯å¾‘çš„ç›¸å°ä½ç½®ã€‚

```bash
cd /project/research/
python -u train_minst.py
```

**Example 2**: å¦‚æœæˆ‘å€‘ç›´æ¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼Œæ²’æœ‰è®Šæ›´è·¯å¾‘ï¼Œ`job`çš„å·¥ä½œç›®éŒ„ä½åœ¨`/home/jovyan` job åŸ·è¡ŒæœŸé–“è¼¸å‡ºçš„ data å‰‡æœƒå­˜åœ¨æ­¤è·¯å¾‘çš„ç›¸å°ä½ç½®ã€‚ä½†æ­¤ç‚ºæš«å­˜ç›®éŒ„ï¼Œæ›è€Œè¨€ä¹‹ï¼Œ è¼¸å‡ºåœ¨`/home/jovyan`çš„ data è³‡æ–™æœƒéš¨è‘—`job`çµæŸè€Œæ¶ˆå¤±ã€‚

```bash
python -u /project/research/train_minst.py
```

`Submit`: é»æ“ŠæŒ‰éˆ•ï¼Œé€å‡ºå·¥ä½œåŸ·è¡Œã€‚

## æŸ¥çœ‹ Job

åœ¨åˆ—èˆ‰ä¸Šé»æ“Šæƒ³è¦æŸ¥çœ‹çš„`job`åç¨±ï¼ŒæŸ¥çœ‹å…§å®¹è³‡è¨ŠåŠåŸ·è¡Œè¨˜éŒ„ã€‚

### Information

![](assets/jsub_info_beta.png)

`Job`è¨˜è¼‰å…§å®¹è³‡è¨Šå¦‚ä¸‹ï¼š

|Field|Description|
|-----|-----------|
|`Status`|ç‹€æ…‹ï¼Œ`Pending`,`Preparing`, `Running`, `Failed`, `Succeeded` åŠ `Cancelled`|
|`Message`|åŸ·è¡Œå›å‚³è¨Šæ¯|
|`Job ID`|ID|
|`Job name`|åç¨±|
|`Schedule`|å¦‚æœæ­¤ Job æ˜¯è¢« scheduler æ ¹æ“šæ’ç¨‹æ™‚é–“ç™¼å‹•çš„è©±ï¼Œé€™è£¡æœƒé¡¯ç¤º Scheduler åç¨ ï¼›åä¹‹é¡¯ç¤º`-`ï¼›é»æ“Šåç¨±é€£çµï¼Œé€²å…¥ Job Scheduler è©³ç´°é ã€‚|
|`User`|æ‰€æœ‰è€…|
|`Start Time`|é–‹å§‹æ™‚é–“|
|`Finished Time`|çµæŸæ™‚é–“|
|`Duration`|åŸ·è¡Œæ™‚é–“|
|`Group`|æ‰€å±¬ç¾¤çµ„|
|`Instance type`|æ‰€ä½ˆå±¬ `instance type`è³‡æº|
|`Image`|æ‰€å±¬åŸ·è¡Œç’°å¢ƒ|
|`Command`|æ‰¹æ¬¡å·¥ä½œé …ç›®å…§å®¹|

### å·¥ä½œè¨˜éŒ„

![](assets/jsub_log.png)

è¨˜éŒ„æ‰¹æ¬¡å·¥ä½œåŸ·è¡Œå¾é–‹å§‹åˆ°çµæŸï¼Œå¯ä»¥ç”±æ­¤æŸ¥çœ‹åŸ·è¡Œéç¨‹ã€‚ä¸€æ—¦åŸ·è¡Œå¤±æ•—ï¼Œå¯ä»¥ç”±æ­¤é™¤éŒ¯ã€‚
